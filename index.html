<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navkar Insurance Referral System | ркирк╡ркХрк╛рк░ рк╡рлАркорк╛ рк░рлЗрклрк░рк▓ рк╕рк┐рк╕рлНркЯрко</title>
    <style>
        /* Perplexity Design System */
        :root {
          /* Primitive Color Tokens */
          --color-white: rgba(255, 255, 255, 1);
          --color-black: rgba(0, 0, 0, 1);
          --color-cream-50: rgba(252, 252, 249, 1);
          --color-cream-100: rgba(255, 255, 253, 1);
          --color-gray-200: rgba(245, 245, 245, 1);
          --color-gray-300: rgba(167, 169, 169, 1);
          --color-gray-400: rgba(119, 124, 124, 1);
          --color-slate-500: rgba(98, 108, 113, 1);
          --color-brown-600: rgba(94, 82, 64, 1);
          --color-charcoal-700: rgba(31, 33, 33, 1);
          --color-charcoal-800: rgba(38, 40, 40, 1);
          --color-slate-900: rgba(19, 52, 59, 1);
          --color-teal-300: rgba(50, 184, 198, 1);
          --color-teal-400: rgba(45, 166, 178, 1);
          --color-teal-500: rgba(33, 128, 141, 1);
          --color-teal-600: rgba(29, 116, 128, 1);
          --color-teal-700: rgba(26, 104, 115, 1);
          --color-teal-800: rgba(41, 150, 161, 1);
          --color-red-400: rgba(255, 84, 89, 1);
          --color-red-500: rgba(192, 21, 47, 1);
          --color-orange-400: rgba(230, 129, 97, 1);
          --color-orange-500: rgba(168, 75, 47, 1);
        
          /* RGB versions for opacity control */
          --color-brown-600-rgb: 94, 82, 64;
          --color-teal-500-rgb: 33, 128, 141;
          --color-slate-900-rgb: 19, 52, 59;
          --color-slate-500-rgb: 98, 108, 113;
          --color-red-500-rgb: 192, 21, 47;
          --color-red-400-rgb: 255, 84, 89;
          --color-orange-500-rgb: 168, 75, 47;
          --color-orange-400-rgb: 230, 129, 97;
        
          /* Background color tokens (Light Mode) */
          --color-bg-1: rgba(59, 130, 246, 0.08); /* Light blue */
          --color-bg-2: rgba(245, 158, 11, 0.08); /* Light yellow */
          --color-bg-3: rgba(34, 197, 94, 0.08); /* Light green */
          --color-bg-4: rgba(239, 68, 68, 0.08); /* Light red */
          --color-bg-5: rgba(147, 51, 234, 0.08); /* Light purple */
          --color-bg-6: rgba(249, 115, 22, 0.08); /* Light orange */
          --color-bg-7: rgba(236, 72, 153, 0.08); /* Light pink */
          --color-bg-8: rgba(6, 182, 212, 0.08); /* Light cyan */
        
          /* Semantic Color Tokens (Light Mode) */
          --color-background: var(--color-cream-50);
          --color-surface: var(--color-cream-100);
          --color-text: var(--color-slate-900);
          --color-text-secondary: var(--color-slate-500);
          --color-primary: var(--color-teal-500);
          --color-primary-hover: var(--color-teal-600);
          --color-primary-active: var(--color-teal-700);
          --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
          --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
          --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
          --color-border: rgba(var(--color-brown-600-rgb), 0.2);
          --color-btn-primary-text: var(--color-cream-50);
          --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
          --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
          --color-error: var(--color-red-500);
          --color-success: var(--color-teal-500);
          --color-warning: var(--color-orange-500);
          --color-info: var(--color-slate-500);
          --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
          --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);
        
          /* Common style patterns */
          --focus-ring: 0 0 0 3px var(--color-focus-ring);
          --focus-outline: 2px solid var(--color-primary);
          --status-bg-opacity: 0.15;
          --status-border-opacity: 0.25;
          --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
          --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
        
          /* RGB versions for opacity control */
          --color-success-rgb: 33, 128, 141;
          --color-error-rgb: 192, 21, 47;
          --color-warning-rgb: 168, 75, 47;
          --color-info-rgb: 98, 108, 113;
        
          /* Typography */
          --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
            BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
          --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
            Monaco, Consolas, monospace;
          --font-size-xs: 11px;
          --font-size-sm: 12px;
          --font-size-base: 14px;
          --font-size-md: 14px;
          --font-size-lg: 16px;
          --font-size-xl: 18px;
          --font-size-2xl: 20px;
          --font-size-3xl: 24px;
          --font-size-4xl: 30px;
          --font-weight-normal: 400;
          --font-weight-medium: 500;
          --font-weight-semibold: 550;
          --font-weight-bold: 600;
          --line-height-tight: 1.2;
          --line-height-normal: 1.5;
          --letter-spacing-tight: -0.01em;
        
          /* Spacing */
          --space-0: 0;
          --space-1: 1px;
          --space-2: 2px;
          --space-4: 4px;
          --space-6: 6px;
          --space-8: 8px;
          --space-10: 10px;
          --space-12: 12px;
          --space-16: 16px;
          --space-20: 20px;
          --space-24: 24px;
          --space-32: 32px;
        
          /* Border Radius */
          --radius-sm: 6px;
          --radius-base: 8px;
          --radius-md: 10px;
          --radius-lg: 12px;
          --radius-full: 9999px;
        
          /* Shadows */
          --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
          --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
          --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
            0 2px 4px -1px rgba(0, 0, 0, 0.02);
          --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
            0 4px 6px -2px rgba(0, 0, 0, 0.02);
          --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
            inset 0 -1px 0 rgba(0, 0, 0, 0.03);
        
          /* Animation */
          --duration-fast: 150ms;
          --duration-normal: 250ms;
          --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
        
          /* Layout */
          --container-sm: 640px;
          --container-md: 768px;
          --container-lg: 1024px;
          --container-xl: 1280px;
        }
        
        /* Base styles */
        html {
          font-size: var(--font-size-base);
          font-family: var(--font-family-base);
          line-height: var(--line-height-normal);
          color: var(--color-text);
          background-color: var(--color-background);
          -webkit-font-smoothing: antialiased;
          box-sizing: border-box;
        }
        
        body {
          margin: 0;
          padding: 0;
        }
        
        *,
        *::before,
        *::after {
          box-sizing: inherit;
        }
        
        /* Typography */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
          margin: 0;
          font-weight: var(--font-weight-semibold);
          line-height: var(--line-height-tight);
          color: var(--color-text);
          letter-spacing: var(--letter-spacing-tight);
        }
        
        h1 {
          font-size: var(--font-size-4xl);
        }
        h2 {
          font-size: var(--font-size-3xl);
        }
        h3 {
          font-size: var(--font-size-2xl);
        }
        h4 {
          font-size: var(--font-size-xl);
        }
        h5 {
          font-size: var(--font-size-lg);
        }
        h6 {
          font-size: var(--font-size-md);
        }
        
        p {
          margin: 0 0 var(--space-16) 0;
        }
        
        /* Buttons */
        .btn {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          padding: var(--space-12) var(--space-20);
          border-radius: var(--radius-base);
          font-size: var(--font-size-lg);
          font-weight: 500;
          line-height: 1.5;
          cursor: pointer;
          transition: all var(--duration-normal) var(--ease-standard);
          border: none;
          text-decoration: none;
          position: relative;
          min-height: 48px;
        }
        
        .btn:focus-visible {
          outline: none;
          box-shadow: var(--focus-ring);
        }
        
        .btn--primary {
          background: var(--color-primary);
          color: var(--color-btn-primary-text);
        }
        
        .btn--primary:hover {
          background: var(--color-primary-hover);
        }
        
        .btn--primary:active {
          background: var(--color-primary-active);
        }
        
        .btn--secondary {
          background: var(--color-secondary);
          color: var(--color-text);
        }
        
        .btn--secondary:hover {
          background: var(--color-secondary-hover);
        }
        
        .btn--secondary:active {
          background: var(--color-secondary-active);
        }
        
        .btn--full-width {
          width: 100%;
        }
        
        /* Form elements */
        .form-control {
          display: block;
          width: 100%;
          padding: var(--space-12) var(--space-16);
          font-size: var(--font-size-lg);
          line-height: 1.5;
          color: var(--color-text);
          background-color: var(--color-surface);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-base);
          transition: border-color var(--duration-fast) var(--ease-standard),
            box-shadow var(--duration-fast) var(--ease-standard);
          min-height: 48px;
        }
        
        select.form-control {
          -webkit-appearance: none;
          -moz-appearance: none;
          appearance: none;
          background-image: var(--select-caret-light);
          background-repeat: no-repeat;
          background-position: right var(--space-12) center;
          background-size: 16px;
          padding-right: var(--space-32);
        }
        
        .form-control:focus {
          border-color: var(--color-primary);
          outline: var(--focus-outline);
        }
        
        .form-label {
          display: block;
          margin-bottom: var(--space-8);
          font-weight: var(--font-weight-medium);
          font-size: var(--font-size-lg);
          color: var(--color-text);
        }
        
        .form-group {
          margin-bottom: var(--space-20);
        }
        
        /* Card component */
        .card {
          background-color: var(--color-surface);
          border-radius: var(--radius-lg);
          border: 1px solid var(--color-card-border);
          box-shadow: var(--shadow-sm);
          overflow: hidden;
          transition: box-shadow var(--duration-normal) var(--ease-standard);
        }
        
        .card:hover {
          box-shadow: var(--shadow-md);
        }
        
        .card__body {
          padding: var(--space-20);
        }
        
        .card__header {
          padding: var(--space-20);
          border-bottom: 1px solid var(--color-card-border-inner);
        }
        
        /* Status indicators */
        .status {
          display: inline-flex;
          align-items: center;
          padding: var(--space-6) var(--space-12);
          border-radius: var(--radius-full);
          font-weight: var(--font-weight-medium);
          font-size: var(--font-size-sm);
        }
        
        .status--success {
          background-color: rgba(
            var(--color-success-rgb, 33, 128, 141),
            var(--status-bg-opacity)
          );
          color: var(--color-success);
          border: 1px solid
            rgba(var(--color-success-rgb, 33, 128, 141), var(--status-border-opacity));
        }
        
        .status--error {
          background-color: rgba(
            var(--color-error-rgb, 192, 21, 47),
            var(--status-bg-opacity)
          );
          color: var(--color-error);
          border: 1px solid
            rgba(var(--color-error-rgb, 192, 21, 47), var(--status-border-opacity));
        }
        
        .status--warning {
          background-color: rgba(
            var(--color-warning-rgb, 168, 75, 47),
            var(--status-bg-opacity)
          );
          color: var(--color-warning);
          border: 1px solid
            rgba(var(--color-warning-rgb, 168, 75, 47), var(--status-border-opacity));
        }
        
        .status--info {
          background-color: rgba(
            var(--color-info-rgb, 98, 108, 113),
            var(--status-bg-opacity)
          );
          color: var(--color-info);
          border: 1px solid
            rgba(var(--color-info-rgb, 98, 108, 113), var(--status-border-opacity));
        }

        /* Authentication Styles */
        .auth-form {
            width: 100%;
        }
        
        .auth-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        /* Admin Panel Styles */
        .admin-panel {
            background: var(--color-bg-1);
            padding: var(--space-16);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-20);
        }
        
        .user-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-12);
            margin-bottom: var(--space-16);
        }
        
        .user-stat-card {
            background: var(--color-surface);
            padding: var(--space-12);
            border-radius: var(--radius-base);
            text-align: center;
            border: 1px solid var(--color-card-border);
        }
        
        .referral-user-info {
            background: var(--color-bg-2);
            padding: var(--space-8);
            border-radius: var(--radius-sm);
            margin-bottom: var(--space-8);
            font-size: var(--font-size-sm);
        }
        
        /* Custom App Styles */
        .app-container {
            max-width: 480px;
            margin: 0 auto;
            background: var(--color-surface);
            min-height: 100vh;
            position: relative;
        }
        
        /* Loading states */
        .btn--loading {
            position: relative;
            pointer-events: none;
            opacity: 0.7;
        }
        
        .btn--loading::after {
            content: '';
            position: absolute;
            right: var(--space-12);
            top: 50%;
            width: 16px;
            height: 16px;
            margin-top: -8px;
            border: 2px solid transparent;
            border-top-color: currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Better mobile touch targets */
        .btn {
            min-height: 52px;
            padding: var(--space-16) var(--space-20);
        }
        
        .form-control {
            min-height: 52px;
            padding: var(--space-16);
            font-size: var(--font-size-lg);
        }
        
        /* Notification styles */
        .notification {
            position: fixed;
            top: var(--space-16);
            left: var(--space-16);
            right: var(--space-16);
            background: var(--color-success);
            color: var(--color-btn-primary-text);
            padding: var(--space-16);
            border-radius: var(--radius-lg);
            z-index: 1000;
            transform: translateY(-100px);
            opacity: 0;
            transition: all var(--duration-normal) var(--ease-standard);
            text-align: center;
            font-weight: var(--font-weight-medium);
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification--error {
            background: var(--color-error);
        }
        
        .notification--warning {
            background: var(--color-warning);
        }

        .app-header {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
            padding: var(--space-16);
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
        }

        .app-header h1 {
            color: var(--color-btn-primary-text);
            font-size: var(--font-size-2xl);
            margin: 0;
        }

        .app-content {
            padding: var(--space-16);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--space-16);
            margin-bottom: var(--space-24);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-12);
            margin-bottom: var(--space-20);
        }

        .stat-card {
            background: var(--color-bg-1);
            padding: var(--space-16);
            border-radius: var(--radius-lg);
            text-align: center;
        }

        .stat-card h3 {
            font-size: var(--font-size-2xl);
            color: var(--color-primary);
            margin-bottom: var(--space-4);
        }

        .stat-card p {
            margin: 0;
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--space-12);
            margin-bottom: var(--space-24);
        }

        .nav-tabs {
            display: flex;
            background: var(--color-bg-2);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            margin-bottom: var(--space-20);
        }

        .nav-tab {
            flex: 1;
            padding: var(--space-10) var(--space-16);
            background: transparent;
            border: none;
            border-radius: var(--radius-base);
            cursor: pointer;
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            transition: all var(--duration-normal) var(--ease-standard);
        }

        .nav-tab.active {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
            box-shadow: var(--shadow-sm);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .referral-item {
            background: var(--color-surface);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-lg);
            padding: var(--space-16);
            margin-bottom: var(--space-12);
        }

        .referral-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-12);
        }

        .referral-details {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            line-height: 1.4;
        }

        .points-display {
            background: var(--color-bg-3);
            padding: var(--space-20);
            border-radius: var(--radius-lg);
            text-align: center;
            margin-bottom: var(--space-20);
        }

        .points-display h2 {
            color: var(--color-primary);
            font-size: var(--font-size-4xl);
            margin-bottom: var(--space-8);
        }

        .rewards-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--space-12);
        }

        .reward-option {
            background: var(--color-surface);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-lg);
            padding: var(--space-16);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .hidden {
            display: none;
        }

        .success-message {
            background: var(--color-bg-3);
            color: var(--color-success);
            padding: var(--space-12);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-16);
            text-align: center;
            font-weight: var(--font-weight-medium);
        }

        .bilingual-label {
            display: block;
            line-height: 1.3;
        }

        .gujarati-text {
            font-size: var(--font-size-md);
            color: var(--color-text-secondary);
        }

        .whatsapp-btn {
            background: #25D366;
            color: white;
        }

        .whatsapp-btn:hover {
            background: #22c55e;
        }
        
        .contact-agent-btn {
            background: var(--color-info);
            color: var(--color-btn-primary-text);
        }
        
        .contact-agent-btn:hover {
            background: var(--color-slate-500);
        }
        
        .faq-item {
            margin-bottom: var(--space-16);
        }
        
        .faq-question {
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-8);
            color: var(--color-primary);
        }
        
        .faq-answer {
            font-size: var(--font-size-sm);
            line-height: 1.6;
            color: var(--color-text-secondary);
        }
        


        .reward-calculator {
            background: var(--color-bg-4);
            padding: var(--space-16);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-20);
        }

        .policy-type-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--space-8);
            margin-bottom: var(--space-16);
        }

        .policy-type-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-12);
            background: var(--color-surface);
            border-radius: var(--radius-base);
            font-size: var(--font-size-sm);
        }

        .points-value {
            font-weight: var(--font-weight-semibold);
            color: var(--color-primary);
        }

        @media (min-width: 480px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .action-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="app-header">
            <h1>Navkar Insurance Referral System<br><span style="font-size: var(--font-size-lg); font-weight: var(--font-weight-normal);">ркирк╡ркХрк╛рк░ рк╡рлАркорк╛ рк░рлЗрклрк░рк▓ рк╕рк┐рк╕рлНркЯрко</span></h1>
        </div>

        <!-- Login/Register Screen -->
        <div id="auth-screen" class="tab-content active">
            <div style="padding: var(--space-32) var(--space-16);">
                <!-- Logo/Header -->
                <div style="text-align: center; margin-bottom: var(--space-32);">
                    <h1 style="color: var(--color-primary); margin-bottom: var(--space-8);">ЁЯПв ркирк╡ркХрк╛рк░ рк╡рлАркорк╛</h1>
                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-lg);">Insurance Referral System</p>
                </div>

                <!-- Tab Selection -->
                <div class="nav-tabs" style="margin-bottom: var(--space-24);">
                    <button class="nav-tab active" onclick="showAuthTab('login')">рк▓рлЙркЧрк┐рки | Login</button>
                    <button class="nav-tab" onclick="showAuthTab('register')">ркирлЛркВркзркгрлА | Register</button>
                    <button class="nav-tab" onclick="showAuthTab('owner')">ркорк╛рк▓рк┐ркХ | Owner</button>
                </div>

                <!-- User Login Form -->
                <div id="login-form" class="auth-form">
                    <div class="card">
                        <div class="card__header">
                            <h3 style="text-align: center; margin: 0;">ЁЯФС Welcome Back | рккрк╛ркЫрк╛ ркЖрк╡рк╡рк╛ ркмркжрк▓ рк╕рлНрк╡рк╛ркЧркд</h3>
                            <p style="text-align: center; margin: var(--space-8) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-secondary);">Enter mobile number to login</p>
                        </div>
                        <div class="card__body">
                            <form id="user-login-form">
                                <div class="form-group">
                                    <label class="form-label bilingual-label">
                                        Mobile Number<br>
                                        <span class="gujarati-text">ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░</span>
                                    </label>
                                    <input type="tel" class="form-control" id="login-mobile" required
                                           placeholder="9876543210" pattern="[6-9][0-9]{9}">
                                    <div style="font-size: var(--font-size-xs); color: var(--color-text-secondary); margin-top: var(--space-4);">Enter registered mobile number | ркирлЛркВркзрк╛ркпрлЗрк▓ ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░ ркжрк╛ркЦрк▓ ркХрк░рлЛ</div>
                                </div>
                                <div class="action-buttons">
                                    <button type="submit" class="btn btn--primary btn--full-width">
                                        рк▓рлЙркЧрк┐рки ркХрк░рлЛ<br>Login Now
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- User Registration Form -->
                <div id="register-form" class="auth-form hidden">
                    <div class="card">
                        <div class="card__header">
                            <h3 style="text-align: center; margin: 0;">ЁЯУЭ Create Account | ркЦрк╛ркдрлБркВ ркмркирк╛рк╡рлЛ</h3>
                            <p style="text-align: center; margin: var(--space-8) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-secondary);">Register with name and mobile number</p>
                        </div>
                        <div class="card__body">
                            <form id="user-register-form">
                                <div class="form-group">
                                    <label class="form-label bilingual-label">
                                        Full Name<br>
                                        <span class="gujarati-text">рккрлВрк░рлБркВ ркирк╛рко</span>
                                    </label>
                                    <input type="text" class="form-control" id="register-name" required
                                           placeholder="рк╕рлБрк░рлЗрк╢ рк╢рк╛рк╣ / Suresh Shah">
                                </div>
                                <div class="form-group">
                                    <label class="form-label bilingual-label">
                                        Mobile Number<br>
                                        <span class="gujarati-text">ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░</span>
                                    </label>
                                    <input type="tel" class="form-control" id="register-mobile" required
                                           placeholder="9876543210" pattern="[6-9][0-9]{9}">
                                    <div style="font-size: var(--font-size-xs); color: var(--color-text-secondary); margin-top: var(--space-4);">Enter your mobile number for account creation | ркЦрк╛ркдрлБркВ ркмркирк╛рк╡рк╡рк╛ ркорк╛ркЯрлЗ ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░ ркжрк╛ркЦрк▓ ркХрк░рлЛ</div>
                                </div>
                                <div class="action-buttons">
                                    <button type="submit" class="btn btn--primary btn--full-width">
                                        ркЦрк╛ркдрлБркВ ркмркирк╛рк╡рлЛ<br>Create Account
                                    </button>
                                </div>
                            </form>
                            
                            <div style="background: var(--color-bg-3); padding: var(--space-12); border-radius: var(--radius-base); margin-top: var(--space-16); text-align: center;">
                                <h4 style="margin: 0 0 var(--space-8) 0; font-size: var(--font-size-sm);">ЁЯУЛ Simple Registration | рк╕рк░рк│ ркирлЛркВркзркгрлА</h4>
                                <div style="font-size: var(--font-size-xs); color: var(--color-text-secondary); line-height: 1.5;">
                                    Just enter your name and mobile number to create account instantly!<br>
                                    <span class="gujarati-text">рклркХрлНркд ркирк╛рко ркЕркирлЗ ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░ ркжрк╛ркЦрк▓ ркХрк░рлА ркдрлБрк░ркВркд ркЦрк╛ркдрлБркВ ркмркирк╛рк╡рлЛ!</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Owner Login Form -->
                <div id="owner-form" class="auth-form hidden">
                    <div class="card">
                        <div class="card__header">
                            <h3 style="text-align: center; margin: 0;">ЁЯСС Owner Login | ркорк╛рк▓рк┐ркХ рк▓рлЙркЧрк┐рки</h3>
                        </div>
                        <div class="card__body">
                            <form id="owner-login-form">
                                <div class="form-group">
                                    <label class="form-label bilingual-label">
                                        Username<br>
                                        <span class="gujarati-text">рк╡рккрк░рк╛рк╢ркХрк░рлНркдрк╛ ркирк╛рко</span>
                                    </label>
                                    <input type="text" class="form-control" id="owner-username" required
                                           placeholder="owner">
                                </div>
                                <div class="form-group">
                                    <label class="form-label bilingual-label">
                                        Password<br>
                                        <span class="gujarati-text">рккрк╛рк╕рк╡рк░рлНркб</span>
                                    </label>
                                    <input type="password" class="form-control" id="owner-password" required
                                           placeholder="navkar2025">
                                </div>
                                <div class="action-buttons">
                                    <button type="submit" class="btn btn--primary btn--full-width">
                                        рк▓рлЙркЧрк┐рки ркХрк░рлЛ<br>Login as Owner
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="app-content">
            <!-- Dashboard Tab -->
            <div id="dashboard-tab" class="tab-content active">
                <!-- Points Display -->
                <div class="points-display">
                    <h2 id="total-points">0</h2>
                    <p>ркХрлБрк▓ рккрлЛркИркирлНркЯрлНрк╕ | Total Points</p>
                    <p id="cash-equivalent">тВ╣0 ркирк╛ркгрк╛ркВ | Cash Equivalent</p>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="total-referrals">0</h3>
                        <p>ркХрлБрк▓ рк░рлЗрклрк░рк▓<br>Total Referrals</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="pending-referrals">0</h3>
                        <p>ркмрк╛ркХрлА рк░рлЗрклрк░рк▓<br>Pending</p>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn--primary btn--full-width" onclick="showTab('add-referral-tab')">
                        ркирк╡рлЛ рк░рлЗрклрк░рк▓ ркЙркорлЗрк░рлЛ<br>Add New Referral
                    </button>
                    <button class="btn btn--secondary btn--full-width" onclick="showTab('referrals-tab')">
                        ркорк╛рк░рк╛ рк░рлЗрклрк░рк▓ ркЬрлБркУ<br>My Referrals
                    </button>
                    <button class="btn btn--secondary btn--full-width" onclick="showTab('rewards-tab')">
                        ркЗркирк╛рко ркорлЗрк│рк╡рлЛ<br>Redeem Rewards
                    </button>
                    <button class="btn btn--outline btn--full-width" onclick="showRedemptionHistory()">
                        рк░рк┐ркбрлЗркорлНрккрк╢рки рк╣рк┐рк╕рлНркЯрк░рлА<br>Redemption History
                    </button>

                    <button class="btn whatsapp-btn btn--full-width" onclick="shareReferralCode()">
                        WhatsApp ркерлА рк╢рлЗрк░ ркХрк░рлЛ<br>Share via WhatsApp
                    </button>
                    
                    <button class="btn btn--secondary btn--full-width" onclick="showTab('terms-tab')">
                        ркирк┐ркпркорлЛ ркЕркирлЗ рк╢рк░ркдрлЛ<br>Terms &amp; Conditions
                    </button>
                    
                    <button class="btn btn--secondary btn--full-width" onclick="showTab('privacy-tab')">
                        ркЧрлЛрккркирлАркпркдрк╛ ркирлАркдрк┐<br>Privacy Policy
                    </button>
                    
                    <!-- Development/Testing Options -->
                    <div style="margin-top: var(--space-24); padding-top: var(--space-16); border-top: 1px solid var(--color-border);">
                        <h4 style="font-size: var(--font-size-sm); color: var(--color-text-secondary); margin-bottom: var(--space-12);">Development Options | ркбрлЗрк╡рк▓рккркорлЗркирлНркЯ рк╡рк┐ркХрк▓рлНрккрлЛ</h4>
                        <div class="action-buttons" style="grid-template-columns: 1fr;">
                            <button class="btn btn--outline btn--full-width" onclick="logoutUser()" style="font-size: var(--font-size-sm); padding: var(--space-8) var(--space-12);">
                                ЁЯЪк Logout<br>
                                <span class="gujarati-text">рк▓рлЙркЧркЖркЙркЯ</span>
                            </button>
                            <div id="admin-access-button"></div>
                        </div>
                    </div>

                </div>

                <!-- Reward Calculator -->
                <div class="reward-calculator">
                    <h3 style="margin-bottom: var(--space-12);">рккрлЛркИркирлНркЯ рк░рлЗркЯ | Point Rates</h3>
                    <div class="policy-type-grid">
                        <div class="policy-type-item">
                            <span>Two Wheeler TP</span>
                            <span class="points-value">50 рккрлЛркИркирлНркЯрлНрк╕</span>
                        </div>
                        <div class="policy-type-item">
                            <span>Two Wheeler Comprehensive</span>
                            <span class="points-value">100 рккрлЛркИркирлНркЯрлНрк╕</span>
                        </div>
                        <div class="policy-type-item">
                            <span>Private Car TP</span>
                            <span class="points-value">200 рккрлЛркИркирлНркЯрлНрк╕</span>
                        </div>
                        <div class="policy-type-item">
                            <span>Private Car Comprehensive</span>
                            <span class="points-value">400 рккрлЛркИркирлНркЯрлНрк╕</span>
                        </div>
                        <div class="policy-type-item">
                            <span>Commercial TP</span>
                            <span class="points-value">400 рккрлЛркИркирлНркЯрлНрк╕</span>
                        </div>
                        <div class="policy-type-item">
                            <span>Commercial Comprehensive</span>
                            <span class="points-value">600 рккрлЛркИркирлНркЯрлНрк╕</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add Referral Tab -->
            <div id="add-referral-tab" class="tab-content">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showTab('dashboard-tab')">рк╣рлЛрко | Home</button>
                    <button class="nav-tab active">ркирк╡рлЛ рк░рлЗрклрк░рк▓ | New Referral</button>
                </div>

                <div id="success-message" class="success-message hidden">
                    рк░рлЗрклрк░рк▓ рк╕рклрк│ркдрк╛рккрлВрк░рлНрк╡ркХ ркЙркорлЗрк░рлНркпрлЛ! | Referral added successfully!
                </div>

                <form id="referral-form">
                    <div class="form-group">
                        <label class="form-label bilingual-label">
                            Vehicle Registration Number<br>
                            <span class="gujarati-text">рк╡рк╛рк╣рки ркирлЛркВркзркгрлА ркиркВркмрк░</span>
                        </label>
                        <input type="text" class="form-control" id="vehicle-number" required 
                               placeholder="GJ-05-AB-1234">
                    </div>

                    <div class="form-group">
                        <label class="form-label bilingual-label">
                            Vehicle Owner Name<br>
                            <span class="gujarati-text">рк╡рк╛рк╣рки ркорк╛рк▓рк┐ркХркирлБркВ ркирк╛рко</span>
                        </label>
                        <input type="text" class="form-control" id="owner-name" required 
                               placeholder="рк░ркорлЗрк╢ рккркЯрлЗрк▓ / Ramesh Patel">
                    </div>

                    <div class="form-group">
                        <label class="form-label bilingual-label">
                            Mobile Number<br>
                            <span class="gujarati-text">ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░</span>
                        </label>
                        <input type="tel" class="form-control" id="mobile-number" required 
                               placeholder="9876543210">
                    </div>

                    <div class="form-group">
                        <label class="form-label bilingual-label">
                            Policy Type<br>
                            <span class="gujarati-text">рккрлЙрк▓рк┐рк╕рлА рккрлНрк░ркХрк╛рк░</span>
                        </label>
                        <select class="form-control" id="policy-type" required>
                            <option value="">Select Policy Type / рккрлЙрк▓рк┐рк╕рлА рккрк╕ркВркж ркХрк░рлЛ</option>
                            <option value="Two Wheeler TP">Two Wheeler Third Party (тВ╣50)</option>
                            <option value="Two Wheeler Comprehensive">Two Wheeler Comprehensive (тВ╣100)</option>
                            <option value="Private Car TP">Private Car Third Party (тВ╣200)</option>
                            <option value="Private Car Comprehensive">Private Car Comprehensive (тВ╣400)</option>
                            <option value="Commercial TP">Commercial Third Party (тВ╣400)</option>
                            <option value="Commercial Comprehensive">Commercial Comprehensive (тВ╣600)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label bilingual-label">
                            Previous Policy Details (Optional)<br>
                            <span class="gujarati-text">рккрк╣рлЗрк▓рк╛ркирлА рккрлЙрк▓рк┐рк╕рлАркирлА рк╡рк┐ркЧркдрлЛ (рк╡рлИркХрк▓рлНрккрк┐ркХ)</span>
                        </label>
                        <textarea class="form-control" id="previous-policy" rows="2" 
                                  placeholder="Insurance company name, policy number, etc."></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label bilingual-label">
                            Your Name (Referrer)<br>
                            <span class="gujarati-text">ркдркорк╛рк░рлБркВ ркирк╛рко (рк╕ркВркжрк░рлНркн ркЖрккркирк╛рк░)</span>
                        </label>
                        <input type="text" class="form-control" id="referrer-name" required 
                               placeholder="рк╕рлБрк░рлЗрк╢ рк╢рк╛рк╣ / Suresh Shah">
                    </div>

                    <div class="form-group">
                        <label class="form-label bilingual-label">
                            Your Mobile Number<br>
                            <span class="gujarati-text">ркдркорк╛рк░рлЛ ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░</span>
                        </label>
                        <input type="tel" class="form-control" id="referrer-mobile" required 
                               placeholder="9876543211">
                    </div>

                    <div class="action-buttons">
                        <button type="submit" class="btn btn--primary btn--full-width">
                            рк░рлЗрклрк░рк▓ рк╕ркмркорк┐ркЯ ркХрк░рлЛ<br>Submit Referral
                        </button>
                        <button type="button" class="btn btn--secondary btn--full-width" 
                                onclick="showTab('dashboard-tab')">
                            рк░ркжрлНркж ркХрк░рлЛ<br>Cancel
                        </button>
                    </div>
                </form>
            </div>

            <!-- My Referrals Tab -->
            <div id="referrals-tab" class="tab-content">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showTab('dashboard-tab')">рк╣рлЛрко | Home</button>
                    <button class="nav-tab active">ркорк╛рк░рк╛ рк░рлЗрклрк░рк▓ | My Referrals</button>
                </div>

                <div id="referrals-list">
                    <!-- Referrals will be populated here -->
                </div>
            </div>
            


            <!-- Terms & Conditions Tab -->
            <div id="terms-tab" class="tab-content">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showTab('dashboard-tab')">рк╣рлЛрко | Home</button>
                    <button class="nav-tab active">ркирк┐ркпркорлЛ | Terms</button>
                </div>

                <div class="card" style="margin-bottom: var(--space-20);">
                    <div class="card__header">
                        <h2 style="text-align: center; color: var(--color-primary);">ЁЯУЬ Terms &amp; Conditions | ркирк┐ркпркорлЛ ркЕркирлЗ рк╢рк░ркдрлЛ</h2>
                        <p style="text-align: center; margin: var(--space-8) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-secondary);">Effective Date: October 13, 2025 | рккрлНрк░ркнрк╛рк╡рлА ркдрк╛рк░рлАркЦ: рлзрлй ркСркХрлНркЯрлЛркмрк░, рлирлжрлирл╡</p>
                    </div>
                    <div class="card__body">
                        <!-- Eligibility Requirements -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯСе Eligibility Requirements | рккрк╛ркдрлНрк░ркдрк╛ркирлА ркЬрк░рлВрк░рк┐ркпрк╛ркдрлЛ</h3>
                            <div style="background: var(--color-bg-1); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <ul style="margin: 0; padding-left: var(--space-20);">
                                    <li><strong>Bank Account Mandatory:</strong> You must have a valid Indian bank account to redeem rewards</li>
                                    <li><strong>Age Requirement:</strong> Must be 18 years or older</li>
                                    <li><strong>Indian Resident:</strong> Only Indian residents are eligible for this program</li>
                                    <li><strong>Valid Documents:</strong> Must provide accurate bank details and contact information</li>
                                </ul>
                                <div style="margin-top: var(--space-12); font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                                    <strong>ркЧрлБркЬрк░рк╛ркдрлА:</strong> рк░рк┐рк╡рлЛрк░рлНркб ркорлЗрк│рк╡рк╡рк╛ ркорк╛ркЯрлЗ рк╡рлИркз ркмрлЗркВркХ ркЦрк╛ркдрлБркВ рк╣рлЛрк╡рлБркВ ркЕркирк┐рк╡рк╛рк░рлНркп ркЫрлЗ. рлзрлй рк╡рк░рлНрк╖ ркдрлЗркоркЬ рк╡ркзрлБ ркЙркорк░ рк╣рлЛрк╡рлА ркЬрлЛркИркП.
                                </div>
                            </div>
                        </div>

                        <!-- Referral Process -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯФД Referral Process &amp; Guidelines | рк░рлЗрклрк░рк▓ рккрлНрк░ркХрлНрк░рк┐ркпрк╛ ркЕркирлЗ ркорк╛рк░рлНркЧркжрк░рлНрк╢рки</h3>
                            <div style="background: var(--color-bg-2); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <ul style="margin: 0; padding-left: var(--space-20);">
                                    <li><strong>Valid Referrals Only:</strong> Points awarded only for completed and valid insurance policies</li>
                                    <li><strong>Accurate Information:</strong> Referrer must provide correct vehicle and customer details</li>
                                    <li><strong>Policy Completion:</strong> Customer must complete the insurance purchase process</li>
                                    <li><strong>No Duplicate Claims:</strong> Same customer cannot be referred multiple times for same vehicle</li>
                                    <li><strong>Ethical Practices:</strong> No misleading information or false promises to customers</li>
                                </ul>
                                <div style="margin-top: var(--space-12); font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                                    <strong>ркЧрлБркЬрк░рк╛ркдрлА:</strong> рклркХрлНркд рк╡рлИркз рк░рлЗрклрк░рк▓ ркорк╛ркЯрлЗ ркЬ рккрлЛркЗркирлНркЯрлНрк╕ ркорк│рк╢рлЗ. ркЧрлНрк░рк╛рк╣ркХрлЗ рк╡рлАркорлЗ ркорк╛ркЯрлЗ ркЦрк░рлАркжрлА рккрлВрк░рлА ркХрк░рк╡рлА ркЬрк░рлВрк░рлА ркЫрлЗ.
                                </div>
                            </div>
                        </div>

                        <!-- Point System & Redemption -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯТ░ Point System &amp; Redemption Rules | рккрлЛркЗркирлНркЯ рк╕рк┐рк╕рлНркЯрко ркЕркирлЗ рк░рк┐ркбрлЗркорлНрккрк╢рки ркирк┐ркпркорлЛ</h3>
                            <div style="background: var(--color-bg-3); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <div style="margin-bottom: var(--space-16);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">Point Values | рккрлЛркЗркирлНркЯ ркорлВрк▓рлНркпрлЛ:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20); font-size: var(--font-size-sm);">
                                        <li>Two Wheeler TP: 50 Points (тВ╣50)</li>
                                        <li>Two Wheeler Comprehensive: 100 Points (тВ╣100)</li>
                                        <li>Private Car TP: 200 Points (тВ╣200)</li>
                                        <li>Private Car Comprehensive: 400 Points (тВ╣400)</li>
                                        <li>Commercial TP: 400 Points (тВ╣400)</li>
                                        <li>Commercial Comprehensive: 600 Points (тВ╣600)</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 style="margin: 0 0 var(--space-8) 0;">Redemption Terms | рк░рк┐ркбрлЗркорлНрккрк╢рки рк╢рк░ркдрлЛ:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li><strong>Minimum Redemption:</strong> тВ╣100 (100 Points)</li>
                                        <li><strong>Processing Time:</strong> 3-5 business days via NEFT/RTGS</li>
                                        <li><strong>Bank Account Required:</strong> Valid Indian bank account mandatory</li>
                                        <li><strong>Point Conversion:</strong> 1 Point = тВ╣1 (fixed rate)</li>
                                        <li><strong>Maximum per Request:</strong> Available balance limit</li>
                                    </ul>
                                </div>
                                <div style="margin-top: var(--space-12); font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                                    <strong>ркЧрлБркЬрк░рк╛ркдрлА:</strong> рк▓ркШрлБркдрлНркдрко рк░рк┐ркбрлЗркорлНрккрк╢рки тВ╣рлзрлжрлж. рккрлЗркорлЗркирлНркЯ рлй-рл╡ ркжрк┐рк╡рк╕ркорк╛ркВ ркорк│рк╢рлЗ.
                                </div>
                            </div>
                        </div>

                        <!-- Payment Processing -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯТ│ Payment Processing Timeline | рккрлЗркорлЗркирлНркЯ рккрлНрк░рлЛрк╕рлЗрк╕рк┐ркВркЧ рк╕ркоркпркорк░рлНркпрк╛ркжрк╛</h3>
                            <div style="background: var(--color-bg-4); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <div style="display: grid; gap: var(--space-12);">
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-primary); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">1</div>
                                        <div><strong>WhatsApp Request:</strong> Submit redemption request via WhatsApp (Instant)</div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-primary); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">2</div>
                                        <div><strong>Agent Review:</strong> Agent verifies points and details (4-6 hours)</div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-primary); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">3</div>
                                        <div><strong>Bank Transfer:</strong> NEFT/RTGS processing (2-3 working days)</div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-success); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">4</div>
                                        <div><strong>Confirmation:</strong> WhatsApp notification with transaction ID</div>
                                    </div>
                                </div>
                                <div style="margin-top: var(--space-16); padding: var(--space-12); background: var(--color-bg-6); border-radius: var(--radius-base);">
                                    <strong>ЁЯУЮ Emergency Contact:</strong> For urgent requests, call agent directly at +91 9408694686
                                </div>
                            </div>
                        </div>

                        <!-- Referrer Responsibilities -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯУЭ Referrer Responsibilities | рк░рлЗрклрк░рк░ркирлА ркЬрк╡рк╛ркмркжрк╛рк░рлАркУ</h3>
                            <div style="background: var(--color-bg-5); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <ul style="margin: 0; padding-left: var(--space-20);">
                                    <li><strong>Accurate Information:</strong> Provide correct vehicle and customer details</li>
                                    <li><strong>Follow-up:</strong> Ensure customers complete the insurance purchase process</li>
                                    <li><strong>Ethical Conduct:</strong> No false promises or misleading information to customers</li>
                                    <li><strong>Valid Bank Details:</strong> Maintain updated and accurate bank account information</li>
                                    <li><strong>Communication:</strong> Respond to agent queries within 24 hours</li>
                                    <li><strong>Compliance:</strong> Follow all insurance regulations and company policies</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Program Modifications -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">тЪЩя╕П Program Modifications &amp; Updates | рккрлНрк░рлЛркЧрлНрк░рк╛рко ркорлЛркбрк┐рклрк┐ркХрлЗрк╢рки ркЕркирлЗ ркЕрккркбрлЗркЯ</h3>
                            <div style="background: var(--color-bg-7); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <ul style="margin: 0; padding-left: var(--space-20);">
                                    <li><strong>Right to Modify:</strong> Navkar Insurance reserves the right to modify terms with prior notice</li>
                                    <li><strong>Point Values:</strong> Point values may be updated based on business requirements</li>
                                    <li><strong>Notification:</strong> Users will be notified via WhatsApp for any major changes</li>
                                    <li><strong>Grandfathering:</strong> Existing earned points remain valid during transitions</li>
                                    <li><strong>Effective Changes:</strong> New terms apply to future referrals after notification date</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Dispute Resolution -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">тЪЦя╕П Dispute Resolution Process | рк╡рк┐рк╡рк╛ркж рк╕ркорк╛ркзрк╛рки рккрлНрк░ркХрлНрк░рк┐ркпрк╛</h3>
                            <div style="background: var(--color-bg-8); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <div style="margin-bottom: var(--space-12);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">Contact Methods | рк╕ркВрккрк░рлНркХ ркорк╛рк░рлНркЧрлЛ:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li><strong>Primary:</strong> WhatsApp message to +91 9408694686</li>
                                        <li><strong>Direct Call:</strong> +91 9408694686 (Business hours: 9 AM - 6 PM)</li>
                                        <li><strong>Office Visit:</strong> Borsad Tehsil, Anand District, Gujarat</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 style="margin: 0 0 var(--space-8) 0;">Resolution Timeline | рк╕ркорк╛ркзрк╛рки рк╕ркоркпркорк░рлНркпрк╛ркжрк╛:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li>Initial Response: Within 24 hours</li>
                                        <li>Investigation: 2-3 business days</li>
                                        <li>Resolution: 5-7 business days maximum</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Account Suspension -->
                        <div>
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">тЪая╕П Account Suspension/Termination | ркЦрк╛ркдрлБркВ рк╕рлНркеркЧрк┐ркд/рк╕ркорк╛рккрлНркдрк┐</h3>
                            <div style="background: var(--color-bg-4); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <div style="margin-bottom: var(--space-12);">
                                    <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-error);">Suspension Conditions | рк╕рлНркеркЧркиркирлА рк╢рк░ркдрлЛ:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li>Providing false or misleading customer information</li>
                                        <li>Attempting to claim duplicate referrals</li>
                                        <li>Fraudulent activities or misrepresentation</li>
                                        <li>Violation of insurance regulations</li>
                                        <li>Abusive behavior towards agent or customers</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-warning);">Appeal Process | ркЕрккрлАрк▓ рккрлНрк░ркХрлНрк░рк┐ркпрк╛:</h4>
                                    <p style="margin: 0;">Contact agent directly within 15 days of suspension for review and potential reinstatement.</p>
                                </div>
                                <div style="margin-top: var(--space-12); font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                                    <strong>ркЧрлБркЬрк░рк╛ркдрлА:</strong> ркЦрлЛркЯрлА ркорк╛рк╣рк┐ркдрлА ркЕркерк╡рк╛ ркбрлБрккрлНрк▓рк┐ркХрлЗркЯ рк░рлЗрклрк░рк▓ркирлЗ ркХрк╛рк░ркгрлЗ ркЦрк╛ркдрлБркВ ркмркВркз ркХрк░рлА рк╢ркХрк╛ркп.
                                </div>
                            </div>
                        </div>

                        <div style="margin-top: var(--space-32); padding: var(--space-16); background: var(--color-bg-1); border-radius: var(--radius-base); text-align: center;">
                            <p style="margin: 0; font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                                By using this referral system, you agree to these terms and conditions.<br>
                                <strong>ркЖ рк░рлЗрклрк░рк▓ рк╕рк┐рк╕рлНркЯркоmalрлЗрлЗрлЗрлЗрлЗрлАрк╕ркорк╖ркорк╖ркорк░ркнркирлЗ ркЕрк╛ркЕрк┤рлН, ркдркорлЗ ркЖ ркирк┐ркпркорлЛ ркЕркирлЗ рк╢рк░ркдрлЛ рк╕рлНрк╡рлАркХрк╛рк░рлЛ ркЫрлЛ.</strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Privacy Policy Tab -->
            <div id="privacy-tab" class="tab-content">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showTab('dashboard-tab')">рк╣рлЛрко | Home</button>
                    <button class="nav-tab active">ркЧрлЛрккркирлАркпркдрк╛ | Privacy</button>
                </div>

                <div class="card" style="margin-bottom: var(--space-20);">
                    <div class="card__header">
                        <h2 style="text-align: center; color: var(--color-primary);">ЁЯФТ Privacy Policy | ркЧрлЛрккркирлАркпркдрк╛ ркирлАркдрк┐</h2>
                        <p style="text-align: center; margin: var(--space-8) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-secondary);">Effective Date: October 13, 2025 | рккрлНрк░ркнрк╛рк╡рлА ркдрк╛рк░рлАркЦ: рлзрлй ркСркХрлНркЯрлЛркмрк░, рлирлжрлирл╡</p>
                        <p style="text-align: center; margin: var(--space-4) 0 0 0; font-size: var(--font-size-xs); color: var(--color-text-secondary);">Data Protection Officer: Navkar Insurance Services</p>
                    </div>
                    <div class="card__body">
                        <!-- Information Collection -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯУК Information Collection and Usage | ркорк╛рк╣рк┐ркдрлА рк╕ркВркХрк▓рки ркЕркирлЗ рк╡рккрк░рк╛рк╢</h3>
                            <div style="background: var(--color-bg-1); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <h4 style="margin: 0 0 var(--space-12) 0;">Data We Collect | ркЕркорлЗ ркЬрлЗ ркбрлЗркЯрк╛ рк╕ркВркХрк▓рлАркП ркЫрлАркП:</h4>
                                <ul style="margin: 0; padding-left: var(--space-20);">
                                    <li><strong>Personal Information:</strong> Name, mobile number, referral details</li>
                                    <li><strong>Vehicle Information:</strong> Registration numbers, owner details</li>
                                    <li><strong>Insurance Data:</strong> Policy types, previous insurance history</li>
                                    <li><strong>Financial Information:</strong> Bank account details for reward redemption</li>
                                    <li><strong>Communication:</strong> WhatsApp messages for notifications and support</li>
                                </ul>
                                <div style="margin-top: var(--space-16); padding: var(--space-12); background: var(--color-bg-3); border-radius: var(--radius-base);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">Usage Purpose | рк╡рккрк░рк╛рк╢ркирлЛ рк╣рлЗркдрлБ:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20); font-size: var(--font-size-sm);">
                                        <li>Processing insurance referrals and managing point system</li>
                                        <li>Facilitating reward redemptions and payments</li>
                                        <li>WhatsApp communication for notifications and support</li>
                                        <li>Maintaining accurate records for business operations</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Data Storage & Security -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯЫбя╕П Data Storage and Security | ркбрлЗркЯрк╛ рк╕рлНркЯрлЛрк░рлЗркЬ ркЕркирлЗ рк╕рлБрк░ркХрлНрк╖рк╛</h3>
                            <div style="background: var(--color-bg-2); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <div style="margin-bottom: var(--space-16);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">ЁЯУ▒ Local Device Storage:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li><strong>Browser Storage:</strong> Your referral data is stored locally on your device</li>
                                        <li><strong>No Cloud Storage:</strong> We do not store your data on external servers</li>
                                        <li><strong>Device Control:</strong> You have full control over your stored data</li>
                                        <li><strong>Privacy First:</strong> No personal data shared with third parties without consent</li>
                                    </ul>
                                </div>
                                <div style="margin-bottom: var(--space-16);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">ЁЯФР Security Measures:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li><strong>WhatsApp Encryption:</strong> All messages use WhatsApp's end-to-end encryption</li>
                                        <li><strong>Secure Transmission:</strong> Bank details transmitted securely via encrypted WhatsApp</li>
                                        <li><strong>Agent Privacy:</strong> Only designated insurance agent has access to your requests</li>
                                        <li><strong>No Public Visibility:</strong> Your information is never visible to other users</li>
                                    </ul>
                                </div>
                                <div style="padding: var(--space-12); background: var(--color-bg-6); border-radius: var(--radius-base);">
                                    <strong>ркЧрлБркЬрк░рк╛ркдрлА:</strong> ркдркорк╛рк░рлЛ ркбрлЗркЯрк╛ ркдркорк╛рк░рк╛ рклрлЛркиркорк╛ркВ рк╕рлБрк░ркХрлНрк╖рк┐ркд рк░рлАркдрлЗ рк╕ркВркЧрлНрк░рк╣рлАркд ркерк╛ркп ркЫрлЗ. ркЕркорлЗ ркдркорк╛рк░рлА ркорк╛рк╣рк┐ркдрлА ркдрлНрк░рлАркЬрк╛ рккркХрлНрк╖ рк╕рк╛ркерлЗ рк╢рлЗрк░ ркирк╣рлАркВ ркХрк░рлАркП.
                                </div>
                            </div>
                        </div>

                        <!-- WhatsApp Integration -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯУ▒ WhatsApp Integration Data Handling | WhatsApp ркЗркирлНркЯрк┐ркЧрлНрк░рлЗрк╢рки ркбрлЗркЯрк╛ рк╣рлЗркирлНркбрк▓рк┐ркВркЧ</h3>
                            <div style="background: var(--color-bg-3); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <div style="margin-bottom: var(--space-16);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">ЁЯФТ WhatsApp Security Features:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li><strong>End-to-End Encryption:</strong> All messages are encrypted between you and agent</li>
                                        <li><strong>Private Communication:</strong> Only you and insurance agent (+91 9408694686) can see messages</li>
                                        <li><strong>Message History:</strong> WhatsApp maintains your conversation history for reference</li>
                                        <li><strong>No App Storage:</strong> Messages are not stored or processed by our application</li>
                                    </ul>
                                </div>
                                <div style="margin-bottom: var(--space-16);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">ЁЯУо Message Content:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li><strong>Redemption Requests:</strong> Bank details, amount, personal information</li>
                                        <li><strong>Support Messages:</strong> Account details, queries, assistance requests</li>
                                        <li><strong>Notifications:</strong> Status updates, confirmations, important announcements</li>
                                        <li><strong>Business Communication:</strong> Professional insurance-related correspondence</li>
                                    </ul>
                                </div>
                                <div style="padding: var(--space-12); background: var(--color-bg-8); border-radius: var(--radius-base);">
                                    <strong>ЁЯФ┤ Important:</strong> WhatsApp messages are governed by WhatsApp's privacy policy. We recommend reviewing <a href="https://www.whatsapp.com/legal/privacy-policy" target="_blank" style="color: var(--color-primary);">WhatsApp's Privacy Policy</a> for complete understanding.
                                </div>
                            </div>
                        </div>

                        <!-- User Rights -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯУЬ User Rights and Data Access | ркпрлВркЭрк░ ркЕркзрк┐ркХрк╛рк░рлЛ ркЕркирлЗ ркбрлЗркЯрк╛ ркПркХрлНрк╕рлЗрк╕</h3>
                            <div style="background: var(--color-bg-4); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <h4 style="margin: 0 0 var(--space-12) 0;">Your Rights | ркдркорк╛рк░рк╛ ркЕркзрк┐ркХрк╛рк░рлЛ:</h4>
                                <div style="display: grid; gap: var(--space-12);">
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-success); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">тЬУ</div>
                                        <div><strong>Access:</strong> View all your stored referral data anytime within the application</div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-success); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">тЬУ</div>
                                        <div><strong>Modify:</strong> Update your personal information, bank details, and referral data</div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-success); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">тЬУ</div>
                                        <div><strong>Delete:</strong> Clear all your data from local device storage anytime</div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-success); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">тЬУ</div>
                                        <div><strong>Export:</strong> Request copies of your referral history and point records</div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                        <div style="background: var(--color-success); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">тЬУ</div>
                                        <div><strong>Withdraw Consent:</strong> Stop using the system and delete all data</div>
                                    </div>
                                </div>
                                <div style="margin-top: var(--space-16); padding: var(--space-12); background: var(--color-bg-1); border-radius: var(--radius-base);">
                                    <strong>How to Exercise Rights | ркЕркзрк┐ркХрк╛рк░рлЛ ркХрлЗрк╡рлА рк░рлАркдрлЗ рк╡рк╛рккрк░рк╡рк╛:</strong><br>
                                    Contact agent via WhatsApp (+91 9408694686) or use in-app data management features.
                                </div>
                            </div>
                        </div>

                        <!-- Contact Information -->
                        <div style="margin-bottom: var(--space-24);">
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯУЮ Contact Information for Privacy Concerns | ркЧрлЛрккркирлАркпркдрк╛ рк╕ркВркмркВркзрлА рк╕ркВрккрк░рлНркХ ркорк╛рк╣рк┐ркдрлА</h3>
                            <div style="background: var(--color-bg-5); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <div style="display: grid; gap: var(--space-16);">
                                    <div style="background: var(--color-surface); padding: var(--space-16); border-radius: var(--radius-base); border: 1px solid var(--color-card-border);">
                                        <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-primary);">Data Protection Officer</h4>
                                        <p style="margin: 0; font-size: var(--font-size-sm);">
                                            <strong>Company:</strong> Navkar Insurance Services<br>
                                            <strong>Location:</strong> Borsad Tehsil, Anand District, Gujarat<br>
                                            <strong>WhatsApp:</strong> +91 9408694686<br>
                                            <strong>Email:</strong> privacy@navkarinsurance.com<br>
                                            <strong>Business Hours:</strong> 9:00 AM - 6:00 PM (Monday to Saturday)
                                        </p>
                                    </div>
                                    <div style="background: var(--color-surface); padding: var(--space-16); border-radius: var(--radius-base); border: 1px solid var(--color-card-border);">
                                        <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-primary);">Privacy Query Response Time</h4>
                                        <ul style="margin: 0; padding-left: var(--space-20); font-size: var(--font-size-sm);">
                                            <li>WhatsApp Queries: Within 4-6 hours</li>
                                            <li>Email Queries: Within 24-48 hours</li>
                                            <li>Complex Issues: 3-5 business days</li>
                                            <li>Data Deletion Requests: Immediate (local storage)</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Policy Updates -->
                        <div>
                            <h3 style="color: var(--color-primary); margin-bottom: var(--space-16);">ЁЯФД Policy Updates and Notifications | ркирлАркдрк┐ ркЕрккркбрлЗркЯ ркЕркирлЗ ркирлЛркЯрк┐рклрк┐ркХрлЗрк╢рки</h3>
                            <div style="background: var(--color-bg-6); padding: var(--space-16); border-radius: var(--radius-base); line-height: 1.6;">
                                <div style="margin-bottom: var(--space-16);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">Update Process | ркЕрккркбрлЗркЯ рккрлНрк░ркХрлНрк░рк┐ркпрк╛:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li><strong>Notification Method:</strong> WhatsApp message to all active users</li>
                                        <li><strong>Advance Notice:</strong> Minimum 7 days for major changes</li>
                                        <li><strong>Effective Date:</strong> Clearly communicated in update notifications</li>
                                        <li><strong>Continued Use:</strong> Implies acceptance of updated privacy policy</li>
                                    </ul>
                                </div>
                                <div style="margin-bottom: var(--space-16);">
                                    <h4 style="margin: 0 0 var(--space-8) 0;">What Changes Require Notification:</h4>
                                    <ul style="margin: 0; padding-left: var(--space-20);">
                                        <li>Data collection practices modifications</li>
                                        <li>Third-party data sharing changes</li>
                                        <li>Security measure updates</li>
                                        <li>Contact information changes</li>
                                        <li>User rights modifications</li>
                                    </ul>
                                </div>
                                <div style="padding: var(--space-12); background: var(--color-bg-7); border-radius: var(--radius-base);">
                                    <strong>Current Version:</strong> 1.0 | <strong>Last Updated:</strong> October 13, 2025<br>
                                    <strong>рк╡рк░рлНркдркорк╛рки рк╡рк░рлНркгрки:</strong> рлз.рлж | <strong>ркЕркВркдрк┐рко ркЕрккркбрлЗркЯ:</strong> рлзрлй ркСркХрлНркЯрлЛркмрк░, рлирлжрлирл╡
                                </div>
                            </div>
                        </div>

                        <div style="margin-top: var(--space-32); padding: var(--space-16); background: var(--color-bg-1); border-radius: var(--radius-base); text-align: center;">
                            <p style="margin: 0; font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                                Your privacy is important to us. We are committed to protecting your personal information.<br>
                                <strong>ркдркорк╛рк░рлА ркЧрлЛрккркирлАркпркдрк╛ ркЕркорк╛рк░рлЗ ркорк╛ркЯрлЗ ркорк╣ркдрлНрк╡рккрлВрк░рлНркг ркЫрлЗ. ркЕркорлЗ ркдркорк╛рк░рлА рк╡рлНркпркХрлНркдрк┐ркЧркд ркорк╛рк╣рк┐ркдрлАркирлА рк╕рлБрк░ркХрлНрк╖рк╛ ркорк╛ркЯрлЗ рккрлНрк░ркдрк┐ркмркжрлНркз ркЫрлАркП.</strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rewards Tab -->
            <div id="rewards-tab" class="tab-content">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showTab('dashboard-tab')">рк╣рлЛрко | Home</button>
                    <button class="nav-tab active">ркЗркирк╛рко | Rewards</button>
                </div>

                <div class="points-display">
                    <h2 id="rewards-points">0</h2>
                    <p>ркЙрккрк▓ркмрлНркз рккрлЛркИркирлНркЯрлНрк╕ | Available Points</p>
                </div>

                <!-- Redemption Eligibility Check -->
                <div id="redemption-eligibility" class="card" style="margin-bottom: var(--space-20);">
                    <div class="card__header">
                        <h3>ЁЯОБ Redeem Rewards | ркЗркирк╛рко ркорлЗрк│рк╡рлЛ</h3>
                        <p style="margin: var(--space-8) 0 0 0; font-size: var(--font-size-sm); color: var(--color-text-secondary);">Minimum тВ╣100 | рк▓ркШрлБркдрлНркдрко тВ╣100</p>
                    </div>
                    <div class="card__body">
                        <div id="eligibility-status" style="padding: var(--space-16); background: var(--color-bg-1); border-radius: var(--radius-base); margin-bottom: var(--space-16);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-12);">
                                <span style="font-weight: var(--font-weight-medium);">Available Points:</span>
                                <span style="font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); color: var(--color-primary);" id="current-balance">0</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-16);">
                                <span style="font-weight: var(--font-weight-medium);">Cash Value:</span>
                                <span style="font-size: var(--font-size-xl); font-weight: var(--font-weight-semibold); color: var(--color-success);">тВ╣<span id="cash-value">0</span></span>
                            </div>
                            <div id="eligibility-message" style="text-align: center; padding: var(--space-12); background: var(--color-bg-4); border-radius: var(--radius-base); color: var(--color-warning);">тЭМ 100 рк╡ркзрлБ рккрлЛркЗркирлНркЯрлНрк╕ ркЬрк░рлВрк░рлА! Need 100 more points!</div>
                        </div>
                        
                        <div class="action-buttons">
                            <button id="redemption-button" class="btn btn--primary btn--full-width" onclick="openRedemptionForm()">
                                ЁЯУ▒ Submit WhatsApp Request<br>
                                <span class="gujarati-text">WhatsApp рк╡рк┐ркиркВркдрлА ркорлЛркХрк▓рлЛ</span>
                            </button>
                        </div>
                        
                        <!-- Privacy & Process Information -->
                        <div style="background: var(--color-bg-5); padding: var(--space-16); border-radius: var(--radius-base); margin-top: var(--space-16);">
                            <h4 style="margin: 0 0 var(--space-12) 0; color: var(--color-text); display: flex; align-items: center;">
                                ЁЯФТ WhatsApp Privacy &amp; Security | WhatsApp рккрлНрк░рк╛ркЗрк╡рк╕рлА ркЕркирлЗ рк╕рлБрк░ркХрлНрк╖рк╛
                            </h4>
                            <ul style="margin: 0; padding-left: var(--space-20); font-size: var(--font-size-sm); color: var(--color-text-secondary); line-height: 1.6;">
                                <li><strong>Direct to Agent:</strong> Your bank details go directly to agent's WhatsApp (+91 9408694686)</li>
                                <li><strong>Private Chat:</strong> Only you and the agent can see the redemption request</li>
                                <li><strong>Instant Notification:</strong> Agent gets immediate WhatsApp message notification</li>
                                <li><strong>Secure Processing:</strong> Agent processes payments via official banking channels</li>
                                <li><strong>рк╕рлБрк░ркХрлНрк╖рк┐ркд:</strong> ркдркорк╛рк░рлА ркмрлЗркВркХ ркорк╛рк╣рк┐ркдрлА рк╕рлАркзрлА ркПркЬркирлНркЯркирк╛ WhatsApp рккрк░ ркЬ ркорк│рлЗ ркЫрлЗ</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- How to Submit Redemption Request -->
                <div class="card" style="margin-bottom: var(--space-20);">
                    <div class="card__header">
                        <h3>ЁЯУ▒ How to Submit WhatsApp Redemption | WhatsApp рк░рк┐ркбрлЗркорлНрккрк╢рки ркХрлЗрк╡рлА рк░рлАркдрлЗ ркХрк░рк╡рлБркВ</h3>
                    </div>
                    <div class="card__body">
                        <div style="display: grid; gap: var(--space-12);">
                            <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                <div style="background: var(--color-primary); color: var(--color-btn-primary-text); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">1</div>
                                <div>
                                    <strong>Click "Submit WhatsApp Request" button</strong><br>
                                    <span class="gujarati-text">"WhatsApp рк╡рк┐ркиркВркдрлА ркорлЛркХрк▓рлЛ" ркмркЯрки рккрк░ ркХрлНрк▓рк┐ркХ ркХрк░рлЛ</span>
                                </div>
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                <div style="background: var(--color-primary); color: var(--color-btn-primary-text); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">2</div>
                                <div>
                                    <strong>Fill redemption form with bank details</strong><br>
                                    <span class="gujarati-text">рк░рк┐ркбрлЗркорлНрккрк╢рки рклрлЛрк░рлНркоркорк╛ркВ ркмрлЗркВркХ рк╡рк┐ркЧркдрлЛ ркнрк░рлЛ</span>
                                </div>
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                <div style="background: var(--color-primary); color: var(--color-btn-primary-text); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">3</div>
                                <div>
                                    <strong>WhatsApp opens with pre-formatted message</strong><br>
                                    <span class="gujarati-text">WhatsApp ркдрлИркпрк╛рк░ ркорлЗрк╕рлЗркЬ рк╕рк╛ркерлЗ ркЦрлБрк▓рк╢рлЗ</span>
                                </div>
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                <div style="background: var(--color-primary); color: var(--color-btn-primary-text); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">4</div>
                                <div>
                                    <strong>Send message directly to agent (+91 9408694686)</strong><br>
                                    <span class="gujarati-text">ркорлЗрк╕рлЗркЬ рк╕рлАркзрлЛ ркПркЬркирлНркЯркирлЗ ркорлЛркХрк▓рлЛ (+91 9408694686)</span>
                                </div>
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                <div style="background: var(--color-success); color: var(--color-btn-primary-text); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">5</div>
                                <div>
                                    <strong>Agent processes payment &amp; sends confirmation</strong><br>
                                    <span class="gujarati-text">ркПркЬркирлНркЯ рккрлЗркорлЗркирлНркЯ рккрлНрк░рлЛрк╕рлЗрк╕ ркХрк░рк╢рлЗ ркЕркирлЗ ркХркирлНрклрк░рлНркорлЗрк╢рки ркЖрккрк╢рлЗ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Instructions for Insurance Agent -->
                <div class="card">
                    <div class="card__header">
                        <h3>ЁЯПв For Insurance Agent | рк╡рлАркорк╛ ркПркЬркирлНркЯ ркорк╛ркЯрлЗ</h3>
                    </div>
                    <div class="card__body">
                        <div style="background: var(--color-bg-6); padding: var(--space-16); border-radius: var(--radius-base); margin-bottom: var(--space-16);">
                            <h4 style="margin: 0 0 var(--space-12) 0; color: var(--color-text);">ЁЯУ▒ WhatsApp Business Setup | WhatsApp ркмрк┐ркЭркирлЗрк╕ рк╕рлЗркЯркЕркк</h4>
                            <div style="display: grid; gap: var(--space-12);">
                                <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                    <div style="background: var(--color-orange-500); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">1</div>
                                    <div style="font-size: var(--font-size-sm);">
                                        <strong>WhatsApp Business Number:</strong> Ensure your WhatsApp Business is active on +91 9408694686
                                    </div>
                                </div>
                                <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                    <div style="background: var(--color-orange-500); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">2</div>
                                    <div style="font-size: var(--font-size-sm);">
                                        <strong>Enable Notifications:</strong> Keep WhatsApp notifications ON to receive instant redemption requests
                                    </div>
                                </div>
                                <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                    <div style="background: var(--color-orange-500); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">3</div>
                                    <div style="font-size: var(--font-size-sm);">
                                        <strong>Message Format:</strong> Users will send structured messages with all bank details and redemption amounts
                                    </div>
                                </div>
                                <div style="display: flex; align-items: flex-start; gap: var(--space-12);">
                                    <div style="background: var(--color-orange-500); color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); flex-shrink: 0;">4</div>
                                    <div style="font-size: var(--font-size-sm);">
                                        <strong>Process Requests:</strong> Verify details, process payments via NEFT/RTGS, and send confirmation back on WhatsApp
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: var(--color-bg-2); padding: var(--space-16); border-radius: var(--radius-base);">
                            <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-text);">ЁЯТ│ Payment Processing Guidelines | рккрлЗркорлЗркирлНркЯ рккрлНрк░рлЛрк╕рлЗрк╕рк┐ркВркЧ ркорк╛рк░рлНркЧркжрк░рлНрк╢рк┐ркХрк╛</h4>
                            <ul style="margin: 0; padding-left: var(--space-20); font-size: var(--font-size-sm); color: var(--color-text-secondary); line-height: 1.6;">
                                <li><strong>Bank Transfer:</strong> Use NEFT/RTGS for secure transfers (2-3 working days)</li>
                                <li><strong>UPI Payments:</strong> For instant transfers when customer prefers (instant to 24 hours)</li>
                                <li><strong>Minimum redemption:</strong> тВ╣100 per request</li>
                                <li><strong>Maximum per day:</strong> тВ╣10,000 (adjust based on your business policy)</li>
                                <li><strong>Confirmation:</strong> Always send WhatsApp message with transaction ID and details</li>
                                <li><strong>Record Keeping:</strong> Maintain proper records of all transactions for accounting</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- User Profile & Referral Info -->
                <div class="card" style="margin-top: var(--space-20);">
                    <div class="card__header">
                        <h3>My Referral Details | ркорк╛рк░рлА рк░рлЗрклрк░рк▓ рк╡рк┐ркЧркдрлЛ</h3>
                    </div>
                    <div class="card__body">
                        <div style="display: grid; gap: var(--space-12);">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-12); background: var(--color-bg-1); border-radius: var(--radius-base);">
                                <span style="font-weight: var(--font-weight-medium);">Referral Code:</span>
                                <span style="font-family: var(--font-family-mono); font-weight: var(--font-weight-bold); color: var(--color-primary);" id="user-referral-code"></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-12); background: var(--color-bg-2); border-radius: var(--radius-base);">
                                <span style="font-weight: var(--font-weight-medium);">Name | ркирк╛рко:</span>
                                <span id="user-name-display"></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-12); background: var(--color-bg-3); border-radius: var(--radius-base);">
                                <span style="font-weight: var(--font-weight-medium);">Mobile | ркорлЛркмрк╛ркЗрк▓:</span>
                                <span id="user-mobile-display"></span>
                            </div>
                        </div>
                        
                        <div style="margin-top: var(--space-16); text-align: center;">
                            <p style="font-size: var(--font-size-sm); color: var(--color-text-secondary); margin-bottom: var(--space-12);">
                                ркдркорк╛рк░рк╛ рк░рлЗрклрк░рк▓ ркХрлЛркб рк╡ркбрлЗ рк▓рлЛркХрлЛркирлЗ ркЖркоркВркдрлНрк░рк┐ркд ркХрк░рлЛ<br>
                                Invite people using your referral code
                            </p>
                            <div class="action-buttons" style="grid-template-columns: 1fr 1fr; gap: var(--space-8);">
                                <button class="btn whatsapp-btn" onclick="shareReferralCode()" style="font-size: var(--font-size-sm); padding: var(--space-8) var(--space-12);">
                                    WhatsApp
                                </button>
                                <button class="btn contact-agent-btn" onclick="contactAgent()" style="font-size: var(--font-size-sm); padding: var(--space-8) var(--space-12);">
                                    ЁЯУЮ Agent
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ Section -->
                <div class="card" style="margin-top: var(--space-20);">
                    <div class="card__header">
                        <h3>тЭУ Frequently Asked Questions | рк╡рк╛рк░ркВрк╡рк╛рк░ рккрлВркЫрк╛ркдрк╛ рккрлНрк░рк╢рлНркирлЛ</h3>
                    </div>
                    <div class="card__body">
                        <div style="display: grid; gap: var(--space-16);">
                            <div style="background: var(--color-bg-1); padding: var(--space-16); border-radius: var(--radius-base);">
                                <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-primary);">ЁЯФТ Q: Will my bank details be visible publicly?</h4>
                                <p style="margin: 0; font-size: var(--font-size-sm); line-height: 1.6;">
                                    <strong>A: No, absolutely not!</strong> Your bank details are completely private and secure:
                                    <br>тАв Only you and the insurance agent can see the WhatsApp message
                                    <br>тАв WhatsApp uses end-to-end encryption for all messages
                                    <br>тАв No other users can see your redemption requests
                                    <br>тАв Message goes directly to agent's personal WhatsApp (+91 9408694686)
                                    <br><br>
                                    <span class="gujarati-text"><strong>ркЙркдрлНркдрк░:</strong> ркирк╣рлАркВ, ркмрк┐рк▓ркХрлБрк▓ ркирк╣рлАркВ! ркдркорк╛рк░рлА ркмрлЗркВркХ ркорк╛рк╣рк┐ркдрлА рккрлВрк░рлНркг рк░рлАркдрлЗ рк╕рлБрк░ркХрлНрк╖рк┐ркд ркЫрлЗ ркЕркирлЗ рклркХрлНркд рк╡рлАркорк╛ ркПркЬркирлНркЯркирлЗ ркЬ WhatsApp рккрк░ ркорк│рлЗ ркЫрлЗред</span>
                                </p>
                            </div>
                            
                            <div style="background: var(--color-bg-3); padding: var(--space-16); border-radius: var(--radius-base);">
                                <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-success);">ЁЯУ▒ Q: Where does my submission go after I send WhatsApp message?</h4>
                                <p style="margin: 0; font-size: var(--font-size-sm); line-height: 1.6;">
                                    <strong>A: Direct to insurance agent via WhatsApp!</strong> Here's the exact flow:
                                    <br>тАв Your message goes directly to agent's WhatsApp (+91 9408694686)
                                    <br>тАв Agent gets instant WhatsApp notification
                                    <br>тАв Agent reviews your request manually
                                    <br>тАв Agent processes payment via bank transfer (NEFT/RTGS)
                                    <br>тАв Agent sends you WhatsApp confirmation with transaction details
                                    <br><br>
                                    <span class="gujarati-text"><strong>ркЙркдрлНркдрк░:</strong> ркдркорк╛рк░рлА рк╡рк┐ркиркВркдрлА рк╕рлАркзрлА рк╡рлАркорк╛ ркПркЬркирлНркЯркирлЗ WhatsApp рккрк░ ркорк│рлЗ ркЫрлЗ! ркПркЬркирлНркЯ ркдркорк╛рк░рлА рк╡рк┐ркиркВркдрлА ркЪрлЗркХ ркХрк░рлЗ ркЫрлЗ ркЕркирлЗ ркмрлЗркВркХ ркЯрлНрк░рк╛ркирлНрк╕рклрк░ ркХрк░рлЗ ркЫрлЗред</span>
                                </p>
                            </div>
                            
                            <div style="background: var(--color-bg-2); padding: var(--space-16); border-radius: var(--radius-base);">
                                <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-warning);">ЁЯУБ Q: How does the agent manage redemption requests?</h4>
                                <p style="margin: 0; font-size: var(--font-size-sm); line-height: 1.6;">
                                    <strong>A: Through WhatsApp Business directly:</strong>
                                    <br>тАв Agent receives WhatsApp message instantly when you send
                                    <br>тАв All requests appear in agent's WhatsApp chat with you
                                    <br>тАв Agent manually verifies your points balance
                                    <br>тАв Agent processes payment through their bank account
                                    <br>тАв Agent sends you WhatsApp confirmation with transaction ID
                                    <br><br>
                                    <span class="gujarati-text"><strong>ркПркЬркирлНркЯ ркорк╛ркЯрлЗ:</strong> WhatsApp рккрк░ ркдрлБрк░ркВркд рк╡рк┐ркиркВркдрлА ркорк│рлЗ ркЫрлЗ ркЕркирлЗ рк╕рлАркзрлА ркЪрлЗркЯркорк╛ркВ ркЬрк╡рк╛ркм ркЖрккрлА рк╢ркХрлЗ ркЫрлЗред</span>
                                </p>
                            </div>
                            
                            <div style="background: var(--color-bg-4); padding: var(--space-16); border-radius: var(--radius-base);">
                                <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-error);">тЪая╕П Q: Is my data safe with WhatsApp?</h4>
                                <p style="margin: 0; font-size: var(--font-size-sm); line-height: 1.6;">
                                    <strong>A: Yes, completely safe!</strong> WhatsApp provides enterprise-level security:
                                    <br>тАв All messages use end-to-end encryption
                                    <br>тАв WhatsApp's robust security infrastructure
                                    <br>тАв Only you and the insurance agent can see messages
                                    <br>тАв No data is stored on this website or visible to other users
                                    <br>тАв Messages are private between you and agent only
                                    <br><br>
                                    <span class="gujarati-text"><strong>рк╕рлБрк░ркХрлНрк╖рк╛:</strong> WhatsApp рк╕рлБрк░ркХрлНрк╖рк┐ркд ркЫрлЗ! ркдркорк╛рк░рлА ркорк╛рк╣рк┐ркдрлА рклркХрлНркд ркПркЬркирлНркЯркирлЗ ркЬ ркорк│рлЗ ркЫрлЗ, ркЕркирлНркп ркХрлЛркИркирлЗ ркирк╣рлАркВред</span>
                                </p>
                            </div>
                            
                            <div style="background: var(--color-bg-8); padding: var(--space-16); border-radius: var(--radius-base);">
                                <h4 style="margin: 0 0 var(--space-8) 0; color: var(--color-info);">ЁЯХ░я╕П Q: How long does redemption processing take?</h4>
                                <p style="margin: 0; font-size: var(--font-size-sm); line-height: 1.6;">
                                    <strong>A: Standard processing timeline:</strong>
                                    <br>тАв <strong>WhatsApp Message:</strong> Instant (agent gets immediate notification)
                                    <br>тАв <strong>Agent Review:</strong> Within 4-6 hours during business hours
                                    <br>тАв <strong>Bank Transfer:</strong> 2-3 working days via NEFT/RTGS
                                    <br>тАв <strong>WhatsApp Confirmation:</strong> Sent immediately after transfer
                                    <br>тАв <strong>Urgent requests:</strong> Call agent directly at +91 9408694686
                                    <br><br>
                                    <span class="gujarati-text"><strong>рк╕ркоркп:</strong> 2-3 ркХрк╛ркоркХрк╛ркЬркирк╛ ркжрк┐рк╡рк╕рлЛркорк╛ркВ рккрлИрк╕рк╛ ркорк│рлА ркЬрк╢рлЗред ркдрк╛ркдрлНркХрк╛рк▓рк┐ркХ ркЬрк░рлВрк░ рк╣рлЛркп ркдрлЛ ркПркЬркирлНркЯркирлЗ рклрлЛрки ркХрк░рлЛред</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // User Authentication and Multi-User System
        let currentUser = null;
        let allUsers = {}; // Store all user accounts
        
        // Owner credentials
        const ownerCredentials = {
            username: "owner",
            password: "navkar2025",
            mobile: "9408694686"
        };
        
        // Application State - Per User Account
        let appState = {
            referrals: [],
            totalPoints: 0,
            nextId: 1,
            userProfile: {
                name: "",
                mobile: "", 
                referralCode: ""
            },
            totalEarned: 0,
            totalRedeemed: 0
        };

        // Points mapping
        const pointsMapping = {
            "Two Wheeler TP": 50,
            "Two Wheeler Comprehensive": 100,
            "Private Car TP": 200,
            "Private Car Comprehensive": 400,
            "Commercial TP": 400,
            "Commercial Comprehensive": 600
        };
        
        // App configuration
        const appConfig = {
            minimumRedemption: 100,
            pointToRupeeRate: 1,
            agentWhatsApp: '919408694686',
            agentContact: {
                name: 'Insurance Agent',
                mobile: '+91-9408694686',
                whatsapp: 'https://wa.me/919408694686'
            }
        };
        
        // Local redemption history storage
        let redemptionHistory = [];
        
        // Generate unique user ID for current browser session
        function getUserId() {
            if (!window.navkarUserId) {
                window.navkarUserId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            }
            return window.navkarUserId;
        }
        
        // Save user data with proper account isolation
        function saveUserData() {
            if (currentUser) {
                allUsers[currentUser.mobile] = {
                    ...currentUser,
                    ...appState
                };
                console.log('User data saved for:', currentUser.mobile);
            }
        }
        
        // Load user data for specific account
        function loadUserData(mobile) {
            if (allUsers[mobile]) {
                const userData = allUsers[mobile];
                appState = {
                    referrals: userData.referrals || [],
                    totalPoints: userData.totalPoints || 0,
                    nextId: userData.nextId || 1,
                    userProfile: userData.userProfile || {
                        name: userData.name,
                        mobile: userData.mobile,
                        referralCode: userData.referralCode
                    },
                    totalEarned: userData.totalEarned || 0,
                    totalRedeemed: userData.totalRedeemed || 0
                };
                console.log('User data loaded for:', mobile);
            }
        }
        
        // Authentication Functions
        function showAuthTab(tabName) {
            // Hide all auth forms
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.add('hidden');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected form and activate tab
            document.getElementById(tabName + '-form').classList.remove('hidden');
            event.target.classList.add('active');
        }
        

        
        // Simple Login Process
        function loginUser(mobile) {
            if (mobile.length !== 10 || !/^[6-9]/.test(mobile)) {
                showNotification('рк╡рлИркз ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░ ркжрк╛ркЦрк▓ ркХрк░рлЛ! Enter valid mobile number!', 'error');
                return false;
            }
            
            if (!allUsers[mobile]) {
                showNotification('ркЦрк╛ркдрлБркВ ркорк│рлНркпрлБркВ ркиркерлА! Account not found! Please register first.', 'error');
                return false;
            }
            
            currentUser = allUsers[mobile];
            loadUserData(mobile);
            
            showNotification(`рк╕рлНрк╡рк╛ркЧркд ${currentUser.name}! Welcome back ${currentUser.name}!`, 'success');
            return true;
        }
        
        // Simple Registration Process
        function registerUser(name, mobile) {
            if (!name.trim()) {
                showNotification('ркирк╛рко ркжрк╛ркЦрк▓ ркХрк░рлЛ! Please enter your name!', 'error');
                return false;
            }
            
            if (mobile.length !== 10 || !/^[6-9]/.test(mobile)) {
                showNotification('рк╡рлИркз ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░ ркжрк╛ркЦрк▓ ркХрк░рлЛ! Enter valid mobile number!', 'error');
                return false;
            }
            
            if (allUsers[mobile]) {
                showNotification('ркЖ ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░ рккрк╣рлЗрк▓рлЗркерлА ркирлЛркВркзрк╛ркпрлЗрк▓ ркЫрлЗ! This mobile number is already registered!', 'error');
                return false;
            }
            
            const newUser = {
                name: name.trim(),
                mobile: mobile,
                role: 'user',
                referralCode: "REF" + Math.random().toString(36).substr(2, 6).toUpperCase(),
                referrals: [],
                totalPoints: 0,
                nextId: 1,
                totalEarned: 0,
                totalRedeemed: 0
            };
            
            allUsers[mobile] = newUser;
            currentUser = newUser;
            
            // Initialize app state for new user
            appState = {
                referrals: [],
                totalPoints: 0,
                nextId: 1,
                userProfile: {
                    name: name.trim(),
                    mobile: mobile,
                    referralCode: newUser.referralCode
                },
                totalEarned: 0,
                totalRedeemed: 0
            };
            
            saveUserData();
            
            showNotification('ркЦрк╛ркдрлБркВ ркмркирлНркпрлБркВ! Account created successfully!', 'success');
            return true;
        }
        

        

        

        

        
        // Owner Login
        function loginOwner(username, password) {
            if (username === ownerCredentials.username && password === ownerCredentials.password) {
                currentUser = {
                    name: "Insurance Owner",
                    mobile: ownerCredentials.mobile,
                    role: "owner",
                    username: username
                };
                
                // Owner can see all users' data
                appState = {
                    referrals: getAllReferrals(),
                    totalPoints: 0,
                    nextId: 1,
                    userProfile: {
                        name: "Insurance Owner",
                        mobile: ownerCredentials.mobile,
                        referralCode: "OWNER"
                    },
                    totalEarned: 0,
                    totalRedeemed: 0
                };
                
                showNotification('ркорк╛рк▓рк┐ркХ рк▓рлЙркЧрк┐рки рк╕рклрк│! Owner login successful!', 'success');
                return true;
            } else {
                showNotification('ркЦрлЛркЯрк╛ ркХрлНрк░рлЗркбрлЗркирлНрк╢рк┐ркпрк▓! Invalid credentials!', 'error');
                return false;
            }
        }
        
        // Get all referrals (for owner view)
        function getAllReferrals() {
            let allReferrals = [];
            Object.keys(allUsers).forEach(mobile => {
                const user = allUsers[mobile];
                if (user.referrals) {
                    user.referrals.forEach(referral => {
                        allReferrals.push({
                            ...referral,
                            userId: mobile,
                            userName: user.name
                        });
                    });
                }
            });
            return allReferrals;
        }
        
        // Logout user - FIXED VERSION
        function logoutUser() {
            if (confirm('рк▓рлЙркЧркЖркЙркЯ ркХрк░рк╡рк╛ ркорк╛ркВркЧрлЛ ркЫрлЛ? Do you want to logout?')) {
                // Save current user data before logout
                if (currentUser) {
                    saveUserData();
                }
                
                // Clear all session data
                currentUser = null;
                appState = {
                    referrals: [],
                    totalPoints: 0,
                    nextId: 1,
                    userProfile: { name: "", mobile: "", referralCode: "" },
                    totalEarned: 0,
                    totalRedeemed: 0
                };
                
                // Clear OTP state
                otpState = {
                    mobile: '',
                    otp: '',
                    generatedOtp: '',
                    step: 'mobile',
                    isLogin: false
                };
                
                // Clear form inputs
                document.getElementById('login-mobile').value = '';
                document.getElementById('register-name').value = '';
                document.getElementById('register-mobile').value = '';
                document.getElementById('owner-username').value = '';
                document.getElementById('owner-password').value = '';
                
                // Reset to default auth tab
                showAuthTab('login');
                
                // Show auth screen
                showAuthScreen();
                
                // Success notification
                showNotification('рк▓рлЙркЧркЖркЙркЯ рк╕рклрк│! Logged out successfully!', 'success');
            }
        }
        
        // Show authentication screen
        function showAuthScreen() {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById('auth-screen').classList.add('active');
        }
        
        // Show main app (after successful login)
        function showMainApp() {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById('dashboard-tab').classList.add('active');
            initApp();
        }

        // Initialize app with authentication check
        function initApp() {
            if (!currentUser) {
                showAuthScreen();
                return;
            }
            
            updateDashboard();
            renderReferrals();
            updateUserProfile();
        }
        
        // Update user profile display
        function updateUserProfile() {
            document.getElementById('user-referral-code').textContent = appState.userProfile.referralCode;
            document.getElementById('user-name-display').textContent = appState.userProfile.name;
            document.getElementById('user-mobile-display').textContent = appState.userProfile.mobile;
            
            // Show admin button if user is owner
            const adminButtonContainer = document.getElementById('admin-access-button');
            if (adminButtonContainer && currentUser && currentUser.role === 'owner') {
                adminButtonContainer.innerHTML = `
                    <button class="btn btn--secondary btn--full-width" onclick="showAdminDashboard()" style="font-size: var(--font-size-sm); padding: var(--space-8) var(--space-12); margin-top: var(--space-8);">
                        ЁЯСС Admin Panel<br>
                        <span class="gujarati-text">ркПркбркорк┐рки рккрлЗркирк▓</span>
                    </button>
                `;
            } else if (adminButtonContainer) {
                adminButtonContainer.innerHTML = '';
            }
        }

        // Show tab function
        function showTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            
            // Update content based on tab and user role
            if (tabId === 'dashboard-tab') {
                updateDashboard();
                if (currentUser && currentUser.role === 'owner') {
                    setTimeout(() => showAdminDashboard(), 100);
                }
            } else if (tabId === 'referrals-tab') {
                renderReferrals();
            } else if (tabId === 'rewards-tab') {
                updateRewardsTab();
            }
        }

        // Update dashboard statistics based on user role
        function updateDashboard() {
            let totalReferrals, pendingReferrals, completedReferrals;
            
            if (currentUser.role === 'owner') {
                // Owner sees all users' data
                const allReferrals = getAllReferrals();
                totalReferrals = allReferrals.length;
                pendingReferrals = allReferrals.filter(r => r.status === 'Pending').length;
                completedReferrals = allReferrals.filter(r => r.status === 'Completed');
                
                // Show total system points for owner
                appState.totalPoints = completedReferrals.reduce((sum, referral) => {
                    return sum + referral.pointsEarned;
                }, 0);
                
                // Add admin dashboard for owner
                if (document.getElementById('dashboard-tab').classList.contains('active')) {
                    showAdminDashboard();
                }
            } else {
                // Regular user sees only their data
                const userReferrals = appState.referrals.filter(r => r.userId === currentUser.mobile);
                totalReferrals = userReferrals.length;
                pendingReferrals = userReferrals.filter(r => r.status === 'Pending').length;
                completedReferrals = userReferrals.filter(r => r.status === 'Completed');
                
                // Calculate user's points
                appState.totalPoints = completedReferrals.reduce((sum, referral) => {
                    return sum + referral.pointsEarned;
                }, 0);
            }

            document.getElementById('total-points').textContent = appState.totalPoints;
            document.getElementById('cash-equivalent').textContent = `тВ╣${appState.totalPoints} ркирк╛ркгрк╛ркВ | Cash Equivalent`;
            document.getElementById('total-referrals').textContent = totalReferrals;
            document.getElementById('pending-referrals').textContent = pendingReferrals;
        }

        // Handle form submission
        document.getElementById('referral-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('button[type="submit"]');
            setButtonLoading(submitBtn, true);
            
            // Simulate API call delay
            setTimeout(() => {
                const formData = {
                    id: appState.nextId++,
                    vehicleNumber: document.getElementById('vehicle-number').value,
                    ownerName: document.getElementById('owner-name').value,
                    mobile: document.getElementById('mobile-number').value,
                    policyType: document.getElementById('policy-type').value,
                    previousPolicy: document.getElementById('previous-policy').value,
                    referrerName: document.getElementById('referrer-name').value,
                    referrerMobile: document.getElementById('referrer-mobile').value,
                    status: 'Pending',
                    pointsEarned: 0,
                    date: new Date().toISOString().split('T')[0]
                };

                // Add to referrals
                appState.referrals.push(formData);
                
                // Save to session memory
                saveUserData();
                
                // Ensure referrer matches current user (for regular users)
                if (currentUser.role === 'user') {
                    formData.referrerName = currentUser.name;
                    formData.referrerMobile = currentUser.mobile;
                    formData.userId = currentUser.mobile;
                }
                
                setButtonLoading(submitBtn, false);
                
                // Show success notification
                showNotification('рк░рлЗрклрк░рк▓ рк╕рклрк│ркдрк╛рккрлВрк░рлНрк╡ркХ ркЙркорлЗрк░рлНркпрлЛ! Referral added successfully!', 'success');
                
                // Reset form
                this.reset();
                
                // Return to dashboard after short delay
                setTimeout(() => {
                    showTab('dashboard-tab');
                }, 1500);
            }, 1000);
        });

        // Render referrals list with role-based view
        function renderReferrals() {
            const container = document.getElementById('referrals-list');
            
            // Get referrals based on user role
            let referralsToShow = [];
            if (currentUser.role === 'owner') {
                referralsToShow = getAllReferrals();
            } else {
                referralsToShow = appState.referrals.filter(r => r.userId === currentUser.mobile);
            }
            
            if (referralsToShow.length === 0) {
                const message = currentUser.role === 'owner' ? 
                    'ркХрлЛркИ рк░рлЗрклрк░рк▓ ркиркерлА<br>No referrals in system yet' :
                    'ркХрлЛркИ рк░рлЗрклрк░рк▓ ркиркерлА<br>No referrals yet';
                const buttonText = currentUser.role === 'owner' ? 
                    'ркПркбркорк┐рки ркбрлЗрк╢ркмрлЛрк░рлНркб<br>Admin Dashboard' :
                    'рккрлНрк░ркерко рк░рлЗрклрк░рк▓ ркЙркорлЗрк░рлЛ<br>Add First Referral';
                const buttonAction = currentUser.role === 'owner' ? 
                    "showAdminDashboard()" :
                    "showTab('add-referral-tab')";
                    
                container.innerHTML = `
                    <div class="card">
                        <div class="card__body" style="text-align: center;">
                            <p>${message}</p>
                            <button class="btn btn--primary" onclick="${buttonAction}">
                                ${buttonText}
                            </button>
                        </div>
                    </div>
                `;
                return;
            }

            container.innerHTML = referralsToShow.map(referral => {
                const statusClass = referral.status === 'Completed' ? 'status--success' : 
                                  referral.status === 'Pending' ? 'status--warning' : 'status--error';
                                  
                return `
                    <div class="referral-item">
                        ${currentUser.role === 'owner' && referral.userName ? `
                            <div class="referral-user-info">
                                <strong>ЁЯСд User:</strong> ${referral.userName} (${referral.userId})
                            </div>
                        ` : ''}
                        <div class="referral-header">
                            <h4>${referral.vehicleNumber}</h4>
                            <span class="status ${statusClass}">${referral.status}</span>
                        </div>
                        <div class="referral-details">
                            <p><strong>Owner:</strong> ${referral.ownerName}</p>
                            <p><strong>Mobile:</strong> ${referral.mobile}</p>
                            <p><strong>Policy Type:</strong> ${referral.policyType}</p>
                            <p><strong>Referrer:</strong> ${referral.referrerName}</p>
                            <p><strong>Date:</strong> ${referral.date}</p>
                            <p><strong>Points:</strong> ${referral.pointsEarned} рккрлЛркИркирлНркЯрлНрк╕</p>
                            ${referral.status === 'Pending' && currentUser.role === 'owner' ? `
                                <div style="margin-top: var(--space-12);">
                                    <button class="btn btn--primary btn--sm" onclick="completeReferral(${referral.id})">
                                        рккрлВрк░рлНркг ркХрк░рлЛ | Mark Complete
                                    </button>
                                </div>
                            ` : referral.status === 'Pending' ? `
                                <div style="margin-top: var(--space-12); padding: var(--space-8); background: var(--color-bg-2); border-radius: var(--radius-base); text-align: center;">
                                    <span style="font-size: var(--font-size-sm); color: var(--color-text-secondary);">тП│ Waiting for approval | ркоркВркЬрлВрк░рлАркирлА рк░рк╛рк╣ркорк╛ркВ</span>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Delete referral (Users only - Pending referrals only)
        function deleteReferral(id) {
            if (currentUser.role !== 'user') {
                showNotification('ркорк╛ркдрлНрк░ ркпрлВркЬрк░ ркЬ рк░рлЗрклрк░рк▓ ркбрк┐рк▓рлАркЯ ркХрк░рлА рк╢ркХрлЗ ркЫрлЗ! Only users can delete their referrals!', 'error');
                return;
            }
            
            const referral = appState.referrals.find(r => r.id === id && r.userId === currentUser.mobile);
            if (!referral) {
                showNotification('рк░рлЗрклрк░рк▓ ркорк│рлНркпрлБркВ ркиркерлА! Referral not found!', 'error');
                return;
            }
            
            if (referral.status === 'Completed') {
                showNotification('рккрлВрк░рлНркг ркеркпрлЗрк▓рк╛ рк░рлЗрклрк░рк▓ ркХрк╛ркврлА рк╢ркХрк╛ркдрк╛ ркиркерлА! Cannot delete completed referrals!', 'error');
                return;
            }
            
            // Show confirmation dialog
            const confirmMessage = `рк╢рлБркВ ркдркорлЗ ркЦрк░рлЗркЦрк░ ркЖ рк░рлЗрклрк░рк▓ ркХрк╛ркврлА ркирк╛ркЦрк╡рк╛ ркорк╛ркВркЧрлЛ ркЫрлЛ?\n\nAre you sure you want to delete this referral?\n\nVehicle: ${referral.vehicleNumber}\nOwner: ${referral.ownerName}\nPolicy: ${referral.policyType}`;
            
            if (confirm(confirmMessage)) {
                // Remove referral from array
                const referralIndex = appState.referrals.findIndex(r => r.id === id);
                if (referralIndex > -1) {
                    appState.referrals.splice(referralIndex, 1);
                    
                    // Update user data
                    if (allUsers[currentUser.mobile]) {
                        allUsers[currentUser.mobile].referrals = appState.referrals;
                    }
                    
                    // Save updated data
                    saveUserData();
                    
                    // Show success notification
                    showNotification('рк░рлЗрклрк░рк▓ ркХрк╛ркврлА ркирк╛ркЦрлНркпрлБркВ! Referral deleted successfully!', 'success');
                    
                    // Refresh displays
                    renderReferrals();
                    updateDashboard();
                }
            }
        }
        
        // Complete referral (Owner only)
        function completeReferral(id) {
            if (currentUser.role !== 'owner') {
                showNotification('ркорк╛ркдрлНрк░ ркорк╛рк▓рк┐ркХ ркЬ рк░рлЗрклрк░рк▓ рккрлВрк░рлНркг ркХрк░рлА рк╢ркХрлЗ ркЫрлЗ! Only owner can mark referrals as completed!', 'error');
                return;
            }
            
            const referral = appState.referrals.find(r => r.id === id);
            if (referral) {
                const button = event.target;
                setButtonLoading(button, true);
                
                // Simulate processing delay
                setTimeout(() => {
                    referral.status = 'Completed';
                    referral.pointsEarned = pointsMapping[referral.policyType] || 0;
                    
                    // Update the user's data in allUsers
                    if (referral.userId && allUsers[referral.userId]) {
                        const userReferrals = allUsers[referral.userId].referrals || [];
                        const userReferral = userReferrals.find(r => r.id === id);
                        if (userReferral) {
                            userReferral.status = 'Completed';
                            userReferral.pointsEarned = referral.pointsEarned;
                            
                            // Update user's total points
                            allUsers[referral.userId].totalPoints = (allUsers[referral.userId].totalPoints || 0) + referral.pointsEarned;
                        }
                    }
                    
                    // Save all user data
                    saveUserData();
                    
                    setButtonLoading(button, false);
                    
                    // Show success notification
                    showNotification(`рк░рлЗрклрк░рк▓ рккрлВрк░рлНркг! Referral completed!\n+${referral.pointsEarned} points earned for ${referral.userName}!`, 'success');
                    
                    renderReferrals();
                    updateDashboard();
                }, 1000);
            }
        }

        // Update rewards tab (disable for owner)
        function updateRewardsTab() {
            if (currentUser.role === 'owner') {
                // Owner cannot redeem rewards - show message
                document.getElementById('rewards-points').textContent = '0';
                document.getElementById('current-balance').textContent = '0';
                document.getElementById('cash-value').textContent = '0';
                
                const eligibilityMessage = document.getElementById('eligibility-message');
                const redemptionButton = document.getElementById('redemption-button');
                
                eligibilityMessage.innerHTML = 'ЁЯСС ркорк╛рк▓рк┐ркХ ркдрк░рлАркХрлЗ ркдркорлЗ рк░рк┐рк╡рк╛рк░рлНркб рк░рк┐ркбрлАрко ркХрк░рлА рк╢ркХркдрк╛ ркиркерлА! As owner, you cannot redeem rewards!';
                eligibilityMessage.style.background = 'var(--color-bg-8)';
                eligibilityMessage.style.color = 'var(--color-info)';
                redemptionButton.disabled = true;
                redemptionButton.style.opacity = '0.3';
                redemptionButton.textContent = 'Owner Access Disabled | ркорк╛рк▓рк┐ркХ ркПркХрлНрк╕рлЗрк╕ ркмркВркз';
                return;
            }
            
            const currentPoints = appState.totalPoints;
            document.getElementById('rewards-points').textContent = currentPoints;
            document.getElementById('current-balance').textContent = currentPoints;
            document.getElementById('cash-value').textContent = currentPoints;
            
            // Update eligibility status
            const eligibilityMessage = document.getElementById('eligibility-message');
            const redemptionButton = document.getElementById('redemption-button');
            
            if (currentPoints >= 100) {
                eligibilityMessage.innerHTML = 'тЬЕ рккрк╛ркдрлНрк░ ркЫрлЛ! You\'re eligible to redeem!';
                eligibilityMessage.style.background = 'var(--color-bg-3)';
                eligibilityMessage.style.color = 'var(--color-success)';
                redemptionButton.disabled = false;
                redemptionButton.style.opacity = '1';
                redemptionButton.innerHTML = 'ЁЯУ▒ Submit WhatsApp Request<br><span class="gujarati-text">WhatsApp рк╡рк┐ркиркВркдрлА ркорлЛркХрк▓рлЛ</span>';
            } else {
                eligibilityMessage.innerHTML = `тЭМ ${100 - currentPoints} рк╡ркзрлБ рккрлЛркЗркирлНркЯрлНрк╕ ркЬрк░рлВрк░рлА! Need ${100 - currentPoints} more points!`;
                eligibilityMessage.style.background = 'var(--color-bg-4)';
                eligibilityMessage.style.color = 'var(--color-warning)';
                redemptionButton.disabled = true;
                redemptionButton.style.opacity = '0.5';
                redemptionButton.innerHTML = 'ЁЯУ▒ Submit WhatsApp Request<br><span class="gujarati-text">WhatsApp рк╡рк┐ркиркВркдрлА ркорлЛркХрк▓рлЛ</span>';
            }
        }
        
        // Open redemption form (WhatsApp Integration) - Users only
        function openRedemptionForm() {
            if (currentUser.role === 'owner') {
                showNotification('ркорк╛рк▓рк┐ркХ ркдрк░рлАркХрлЗ ркдркорлЗ рк░рк┐рк╡рк╛рк░рлНркб рк░рк┐ркбрлАрко ркХрк░рлА рк╢ркХркдрк╛ ркиркерлА! As owner, you cannot redeem rewards!', 'error');
                return;
            }
            
            const currentPoints = appState.totalPoints;
            
            if (currentPoints < 100) {
                showNotification('рк▓ркШрлБркдрлНркдрко 100 рккрлЛркЗркирлНркЯрлНрк╕ ркЬрк░рлВрк░рлА ркЫрлЗ! Minimum 100 points required!', 'warning');
                return;
            }
            
            // Show redemption form
            showRedemptionForm();
        }
        
        // Show redemption form
        function showRedemptionForm() {
            const formHtml = `
                <div id="redemption-form-overlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: var(--space-16);">
                    <div style="background: var(--color-surface); border-radius: var(--radius-lg); padding: var(--space-24); max-width: 400px; width: 100%; max-height: 90vh; overflow-y: auto;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-20);">
                            <h3 style="margin: 0; color: var(--color-primary);">ЁЯОБ Redeem Rewards</h3>
                            <button onclick="closeRedemptionForm()" style="background: none; border: none; font-size: var(--font-size-xl); cursor: pointer; color: var(--color-text-secondary);">├Ч</button>
                        </div>
                        
                        <div style="background: var(--color-bg-1); padding: var(--space-16); border-radius: var(--radius-base); margin-bottom: var(--space-20); text-align: center;">
                            <div style="font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); color: var(--color-primary); margin-bottom: var(--space-8);">${appState.totalPoints}</div>
                            <div style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Available Points (тВ╣${appState.totalPoints})</div>
                        </div>
                        
                        <form id="whatsapp-redemption-form">
                            <div class="form-group">
                                <label class="form-label bilingual-label">
                                    Bank Account Number<br>
                                    <span class="gujarati-text">ркмрлЗркВркХ ркЦрк╛ркдрк╛ ркиркВркмрк░</span>
                                </label>
                                <input type="text" class="form-control" id="bank-account" required placeholder="1234567890123456">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label bilingual-label">
                                    IFSC Code<br>
                                    <span class="gujarati-text">IFSC ркХрлЛркб</span>
                                </label>
                                <input type="text" class="form-control" id="ifsc-code" required placeholder="SBIN0001234">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label bilingual-label">
                                    Account Holder Name<br>
                                    <span class="gujarati-text">ркЦрк╛ркдрк╛ркзрк╛рк░ркХркирлБркВ ркирк╛рко</span>
                                </label>
                                <input type="text" class="form-control" id="account-holder" required placeholder="рк╕рлБрк░рлЗрк╢ рккркЯрлЗрк▓">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label bilingual-label">
                                    Redeem Amount (тВ╣)<br>
                                    <span class="gujarati-text">рк░рк┐ркбрлАрко рк░ркХрко (тВ╣)</span>
                                </label>
                                <input type="number" class="form-control" id="redeem-amount" required min="100" max="${appState.totalPoints}" placeholder="500">
                                <div style="font-size: var(--font-size-xs); color: var(--color-text-secondary); margin-top: var(--space-4);">Minimum: тВ╣100 | Maximum: тВ╣${appState.totalPoints}</div>
                            </div>
                            
                            <div class="action-buttons">
                                <button type="submit" class="btn whatsapp-btn btn--full-width">
                                    ЁЯУ▒ Send to WhatsApp<br>
                                    <span class="gujarati-text">рк╡рлНрк╣рлЛркЯрлНрк╕ркПркк рккрк░ ркорлЛркХрк▓рлЛ</span>
                                </button>
                                <button type="button" class="btn btn--secondary btn--full-width" onclick="closeRedemptionForm()">
                                    рк░ркжрлНркж ркХрк░рлЛ | Cancel
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', formHtml);
            
            // Add form submit handler
            document.getElementById('whatsapp-redemption-form').addEventListener('submit', function(e) {
                e.preventDefault();
                sendWhatsAppRedemptionRequest();
            });
        }
        
        // Close redemption form
        function closeRedemptionForm() {
            const overlay = document.getElementById('redemption-form-overlay');
            if (overlay) {
                overlay.remove();
            }
        }
        
        // Send WhatsApp redemption request
        function sendWhatsAppRedemptionRequest() {
            const bankAccount = document.getElementById('bank-account').value;
            const ifscCode = document.getElementById('ifsc-code').value;
            const accountHolder = document.getElementById('account-holder').value;
            const redeemAmount = document.getElementById('redeem-amount').value;
            
            // Validate redemption amount
            if (parseInt(redeemAmount) > appState.totalPoints) {
                showNotification('рк░ркХрко ркЙрккрк▓ркмрлНркз рккрлЛркЗркирлНркЯрлНрк╕ ркХрк░ркдрк╛ркВ рк╡ркзрк╛рк░рлЗ ркЫрлЗ! Amount exceeds available points!', 'error');
                return;
            }
            
            if (parseInt(redeemAmount) < 100) {
                showNotification('рк▓ркШрлБркдрлНркдрко рк░ркХрко тВ╣100 ркЫрлЗ! Minimum amount is тВ╣100!', 'error');
                return;
            }
            
            // Create WhatsApp message
            const message = generateWhatsAppRedemptionMessage({
                name: appState.userProfile.name,
                mobile: appState.userProfile.mobile,
                currentPoints: appState.totalPoints,
                redeemAmount: redeemAmount,
                bankAccount: bankAccount,
                ifscCode: ifscCode,
                accountHolder: accountHolder,
                date: new Date().toLocaleDateString('en-IN')
            });
            
            const whatsappUrl = `https://wa.me/${appConfig.agentWhatsApp}?text=${encodeURIComponent(message)}`;
            
            // Add to redemption history
            const redemptionRequest = {
                id: Date.now(),
                amount: parseInt(redeemAmount),
                bankAccount: bankAccount.slice(-4),
                ifscCode: ifscCode,
                accountHolder: accountHolder,
                status: 'Pending',
                date: new Date().toLocaleDateString('en-IN'),
                method: 'WhatsApp'
            };
            
            redemptionHistory.unshift(redemptionRequest);
            
            // Save to session memory
            saveUserData();
            
            // Show success message and open WhatsApp
            showNotification('тЬЕ рк░рк┐ркбрлЗркорлНрккрк╢рки рк╡рк┐ркиркВркдрлА ркдрлИркпрк╛рк░ ркЫрлЗ! Redemption request ready!\n\nWhatsApp opening with your request...', 'success');
            
            setTimeout(() => {
                window.open(whatsappUrl, '_blank');
                closeRedemptionForm();
                
                // Deduct points from balance (temporary until agent confirms)
                appState.totalPoints -= parseInt(redeemAmount);
                appState.totalRedeemed += parseInt(redeemAmount);
                
                // Save updated state
                saveUserData();
                
                updateDashboard();
                updateRewardsTab();
                
                showNotification(`ЁЯУ▒ WhatsApp message sent!\n\nтЬЕ Request for тВ╣${redeemAmount} sent to agent\nтЬЕ Agent will contact you within 4-6 hours\nтЬЕ Payment processed in 2-3 working days`, 'success');
            }, 1000);
        }
        
        // Generate WhatsApp redemption message
        function generateWhatsAppRedemptionMessage(data) {
            return `ЁЯПж REDEMPTION REQUEST
ЁЯУЭ Name: ${data.name}
ЁЯУ▒ Mobile: ${data.mobile}
ЁЯТ░ Points: ${data.currentPoints}
ЁЯТ│ Redeem Amount: тВ╣${data.redeemAmount}
ЁЯПж Bank Account: ${data.bankAccount}
ЁЯПж IFSC Code: ${data.ifscCode}
ЁЯСд Account Holder: ${data.accountHolder}
ЁЯУЕ Date: ${data.date}

Please process this redemption request.`;
        }
        
        // Sample redemption tracking (for demonstration)
        // In real implementation, this would be managed by the insurance agent
        function showRedemptionGuidance() {
            const guidance = `
                <div style="text-align: center; padding: var(--space-20); background: var(--color-bg-1); border-radius: var(--radius-lg);">
                    <h4 style="margin: 0 0 var(--space-12) 0;">ЁЯУК Track Your Redemption Requests</h4>
                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm); line-height: 1.6;">
                        After submitting your redemption request through Google Forms:<br><br>
                        тАв The insurance agent will receive your request via email<br>
                        тАв Processing typically takes 2-3 business days<br>
                        тАв You will receive WhatsApp confirmation with transaction details<br>
                        тАв For urgent requests, contact the agent directly<br><br>
                        <strong>рк░рк┐ркбрлЗркорлНрккрк╢рки ркдрлНрк╡рк░рк┐ркд рккрлНрк░рлЛрк╕рлЗрк╕рк┐ркВркЧ ркорк╛ркЯрлЗ ркПркЬркирлНркЯ рк╕рк╛ркерлЗ WhatsApp рккрк░ рк╕ркВрккрк░рлНркХ ркХрк░рлЛ</strong>
                    </p>
                </div>
            `;
            return guidance;
        }

        // Contact agent function
        function contactAgent() {
            const message = `ЁЯУЮ Insurance Referral Support | рк╡рлАркорк╛ рк░рлЗрклрк░рк▓ рк╕рк╣рк╛ркп\n\n` +
                          `Hello! I need assistance with my insurance referral account.\n\n` +
                          `ЁЯУД My Account Details:\n` +
                          `Name: ${appState.userProfile.name}\n` +
                          `Mobile: ${appState.userProfile.mobile}\n` +
                          `Referral Code: ${appState.userProfile.referralCode}\n` +
                          `Current Points: ${appState.totalPoints} (тВ╣${appState.totalPoints})\n\n` +
                          `ЁЯУЭ Query: Please help me with:\n` +
                          `[ ] Redemption request status\n` +
                          `[ ] Points calculation\n` +
                          `[ ] Technical support\n` +
                          `[ ] Other: ________________\n\n` +
                          `Thank you for your support! | ркзркирлНркпрк╡рк╛ркж!`;
            
            const whatsappUrl = `https://wa.me/${appConfig.agentWhatsApp}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }
        
        // Show redemption history (local tracking)
        function showRedemptionHistory() {
            if (redemptionHistory.length === 0) {
                showNotification('ркХрлЛркИ рк░рк┐ркбрлЗркорлНрккрк╢рки рк╣рк┐рк╕рлНркЯрк░рлА ркиркерлА | No redemption history yet', 'info');
                return;
            }
            
            let historyHtml = '<h4>Redemption History | рк░рк┐ркбрлЗркорлНрккрк╢рки рк╣рк┐рк╕рлНркЯрк░рлА</h4>';
            redemptionHistory.forEach(item => {
                const statusClass = item.status === 'Completed' ? 'status--success' : 'status--warning';
                historyHtml += `
                    <div style="background: var(--color-surface); border: 1px solid var(--color-card-border); border-radius: var(--radius-base); padding: var(--space-12); margin-bottom: var(--space-8);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8);">
                            <strong>тВ╣${item.amount}</strong>
                            <span class="status ${statusClass}">${item.status}</span>
                        </div>
                        <div style="font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                            <p>Bank: ****${item.bankAccount} | ${item.ifsc}</p>
                            <p>Date: ${item.date} | Method: ${item.method}</p>
                        </div>
                    </div>
                `;
            });
            
            showNotification(historyHtml, 'info');
        }
        


        // Share referral code
        function shareReferralCode() {
            const referralCode = appState.userProfile.referralCode;
            const message = `ЁЯЪЧ Vehicle Insurance Referral / рк╡рк╛рк╣рки рк╡рлАркорк╛ рк░рлЗрклрк░рк▓\n\n` +
                          `ркорк╛рк░рк╛ ркжрлНрк╡рк╛рк░рк╛ рк╡рк╛рк╣рки рк╡рлАркорк╛ ркХрк░рк╛рк╡рлЛ ркЕркирлЗ рккрлИрк╕рк╛ ркмркЪрк╛рк╡рлЛ!\n` +
                          `Get vehicle insurance through me and save money!\n\n` +
                          `ЁЯТ░ Earn Points System:\n` +
                          `ЁЯЫ╡ Two Wheeler: 50-100 points\n` +
                          `ЁЯЪЧ Car Insurance: 200-400 points\n` +
                          `ЁЯЪЫ Commercial: 400-600 points\n\n` +
                          `тЬЕ Best rates / рк╢рлНрк░рлЗрк╖рлНрка ркжрк░рлЛ\n` +
                          `тЬЕ Quick service / ркЭркбрккрлА рк╕рлЗрк╡рк╛\n` +
                          `тЬЕ All vehicle types / ркмркзрк╛ рк╡рк╛рк╣рки рккрлНрк░ркХрк╛рк░рлЛ\n` +
                          `тЬЕ 1 Point = тВ╣1 Cash / 1 рккрлЛркИркирлНркЯ = тВ╣1\n\n` +
                          `Referral Code: ${referralCode}\n\n` +
                          `Contact: ${appState.userProfile.name}\n` +
                          `Mobile: ${appState.userProfile.mobile}`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }
        

        
        // Show notification
        function showNotification(message, type = 'success') {
            // Remove existing notification
            const existing = document.querySelector('.notification');
            if (existing) {
                existing.remove();
            }
            
            const notification = document.createElement('div');
            notification.className = `notification notification--${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Hide notification after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }
        
        // Add loading state to buttons
        function setButtonLoading(button, loading = true) {
            if (loading) {
                button.classList.add('btn--loading');
                button.disabled = true;
            } else {
                button.classList.remove('btn--loading');
                button.disabled = false;
            }
        }


        
        // Authentication Form Handlers
        document.addEventListener('DOMContentLoaded', function() {
            // User Login Form - Simple mobile number login
            document.getElementById('user-login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const mobile = document.getElementById('login-mobile').value.trim();
                
                if (loginUser(mobile)) {
                    showMainApp();
                }
            });
            
            // User Registration Form - Name + Mobile registration
            document.getElementById('user-register-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const name = document.getElementById('register-name').value.trim();
                const mobile = document.getElementById('register-mobile').value.trim();
                
                if (registerUser(name, mobile)) {
                    showMainApp();
                }
            });
            
            // Owner Login Form
            document.getElementById('owner-login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('owner-username').value.trim();
                const password = document.getElementById('owner-password').value.trim();
                
                if (loginOwner(username, password)) {
                    showMainApp();
                }
            });
        });
        
        // Show admin dashboard (Owner only)
        function showAdminDashboard() {
            if (currentUser.role !== 'owner') {
                showNotification('ркорк╛ркдрлНрк░ ркорк╛рк▓рк┐ркХ ркЬ ркПркбркорк┐рки ркбрлЗрк╢ркмрлЛрк░рлНркб ркЬрлЛркИ рк╢ркХрлЗ ркЫрлЗ! Only owner can access admin dashboard!', 'error');
                return;
            }
            
            const dashboardContent = document.querySelector('#dashboard-tab .app-content');
            if (!dashboardContent) return;
            
            // Count total users and system stats
            const totalUsers = Object.keys(allUsers).length;
            const allReferrals = getAllReferrals();
            const totalSystemPoints = allReferrals.reduce((sum, ref) => sum + (ref.pointsEarned || 0), 0);
            const pendingApprovals = allReferrals.filter(r => r.status === 'Pending').length;
            
            // Insert admin panel at the top
            const existingPanel = document.getElementById('admin-panel');
            if (existingPanel) existingPanel.remove();
            
            const adminPanel = `
                <div id="admin-panel" class="admin-panel">
                    <h3 style="margin: 0 0 var(--space-16) 0; color: var(--color-primary); text-align: center;">
                        ЁЯСС Admin Dashboard | ркПркбркорк┐рки ркбрлЗрк╢ркмрлЛрк░рлНркб
                    </h3>
                    
                    <div class="user-stats-grid">
                        <div class="user-stat-card">
                            <h4 style="margin: 0; color: var(--color-primary);">${totalUsers}</h4>
                            <p style="margin: var(--space-4) 0 0 0; font-size: var(--font-size-sm);">ркХрлБрк▓ ркпрлВркЭрк░<br>Total Users</p>
                        </div>
                        <div class="user-stat-card">
                            <h4 style="margin: 0; color: var(--color-warning);">${pendingApprovals}</h4>
                            <p style="margin: var(--space-4) 0 0 0; font-size: var(--font-size-sm);">ркмрк╛ркХрлА ркоркВркЬрлВрк░рлА<br>Pending Approvals</p>
                        </div>
                        <div class="user-stat-card">
                            <h4 style="margin: 0; color: var(--color-success);">${totalSystemPoints}</h4>
                            <p style="margin: var(--space-4) 0 0 0; font-size: var(--font-size-sm);">ркХрлБрк▓ рккрлЛркИркирлНркЯрлНрк╕<br>Total Points</p>
                        </div>
                        <div class="user-stat-card">
                            <h4 style="margin: 0; color: var(--color-info);">${allReferrals.length}</h4>
                            <p style="margin: var(--space-4) 0 0 0; font-size: var(--font-size-sm);">ркХрлБрк▓ рк░рлЗрклрк░рк▓<br>All Referrals</p>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn--primary" onclick="showTab('referrals-tab')">
                            ркмркзрк╛ рк░рлЗрклрк░рк▓ ркЬрлБркУ<br>View All Referrals
                        </button>
                        <button class="btn btn--secondary" onclick="showUserList()">
                            ркпрлВркЭрк░ рк▓рк┐рк╕рлНркЯ<br>User List
                        </button>
                        <button class="btn btn--outline" onclick="exportData()">
                            ркбрлЗркЯрк╛ ркПркХрлНрк╕рккрлЛрк░рлНркЯ<br>Export Data
                        </button>
                    </div>
                    
                    <div style="margin-top: var(--space-16); padding: var(--space-12); background: var(--color-bg-3); border-radius: var(--radius-base); text-align: center;">
                        <p style="margin: 0; font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                            ЁЯСС Logged in as: <strong>${currentUser.name}</strong> (Owner)
                        </p>
                    </div>
                </div>
            `;
            
            dashboardContent.insertAdjacentHTML('afterbegin', adminPanel);
        }
        
        // Show user list (Owner only)
        function showUserList() {
            if (currentUser.role !== 'owner') return;
            
            let userListHtml = '<div style="max-height: 60vh; overflow-y: auto;">';
            userListHtml += '<h4 style="margin-bottom: var(--space-16);">ЁЯУЛ All Users | ркмркзрк╛ ркпрлВркЭрк░</h4>';
            
            Object.keys(allUsers).forEach(mobile => {
                const user = allUsers[mobile];
                const userReferrals = user.referrals || [];
                const userPoints = user.totalPoints || 0;
                
                userListHtml += `
                    <div style="background: var(--color-surface); border: 1px solid var(--color-card-border); border-radius: var(--radius-base); padding: var(--space-12); margin-bottom: var(--space-12);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8);">
                            <strong>${user.name}</strong>
                            <span class="status status--info">${userPoints} Points</span>
                        </div>
                        <div style="font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                            <p>ЁЯУ▒ ${mobile} | ЁЯФЧ ${user.referralCode}</p>
                            <p>ЁЯУК Referrals: ${userReferrals.length} | тЬЕ Completed: ${userReferrals.filter(r => r.status === 'Completed').length}</p>
                        </div>
                    </div>
                `;
            });
            
            userListHtml += '</div>';
            
            // Show in notification (or could be a modal)
            showNotification(userListHtml, 'info');
        }
        
        // Export data (Owner only)
        function exportData() {
            if (currentUser.role !== 'owner') return;
            
            const exportData = {
                users: allUsers,
                totalUsers: Object.keys(allUsers).length,
                totalReferrals: getAllReferrals().length,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `navkar-insurance-data-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            showNotification('ркбрлЗркЯрк╛ ркПркХрлНрк╕рккрлЛрк░рлНркЯ ркеркИ ркЧркпрлЛ! Data exported successfully!', 'success');
        }
        
        // Initialize app with authentication
        window.addEventListener('load', () => {
            initApp();
        });
    </script>
</body>
</html>
